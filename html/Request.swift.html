<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>Request.swift - Slather</title>
<link href="slather.css" media="all" rel="stylesheet">
</head>
<body>
<header><div class="row"><a href="index.html"><img src="logo.jpg" alt="Slather logo"></a></div></header><div class="row"><div id="reports">
<h2 class="cov_title">
<span>Coverage for "Request.swift" : </span><span>Lines: </span><span class="cov_low">27.36%</span><span> Branches: </span><span class="cov_low">26.93%</span>
</h2>
<h4 class="cov_subtitle">(255 of 932 relevant lines covered)</h4>
<h4 class="cov_filepath">../../Library/Developer/Xcode/DerivedData/server-driven-ui-ios-dpdbyuhldehuondfhutxcvvbrvtz/SourcePackages/checkouts/Alamofire/Source/Request.swift</h4>
<table class="source_code">
<tr class="never">
<td class="num">1</td>
<td class="src"><pre><code class="objc">//</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">2</td>
<td class="src"><pre><code class="objc">//  Request.swift</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">3</td>
<td class="src"><pre><code class="objc">//</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">4</td>
<td class="src"><pre><code class="objc">//  Copyright (c) 2014-2020 Alamofire Software Foundation (http://alamofire.org/)</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">5</td>
<td class="src"><pre><code class="objc">//</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">6</td>
<td class="src"><pre><code class="objc">//  Permission is hereby granted, free of charge, to any person obtaining a copy</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">7</td>
<td class="src"><pre><code class="objc">//  of this software and associated documentation files (the "Software"), to deal</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">8</td>
<td class="src"><pre><code class="objc">//  in the Software without restriction, including without limitation the rights</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">9</td>
<td class="src"><pre><code class="objc">//  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">10</td>
<td class="src"><pre><code class="objc">//  copies of the Software, and to permit persons to whom the Software is</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">11</td>
<td class="src"><pre><code class="objc">//  furnished to do so, subject to the following conditions:</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">12</td>
<td class="src"><pre><code class="objc">//</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">13</td>
<td class="src"><pre><code class="objc">//  The above copyright notice and this permission notice shall be included in</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">14</td>
<td class="src"><pre><code class="objc">//  all copies or substantial portions of the Software.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">15</td>
<td class="src"><pre><code class="objc">//</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">16</td>
<td class="src"><pre><code class="objc">//  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">17</td>
<td class="src"><pre><code class="objc">//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">18</td>
<td class="src"><pre><code class="objc">//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">19</td>
<td class="src"><pre><code class="objc">//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">20</td>
<td class="src"><pre><code class="objc">//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">21</td>
<td class="src"><pre><code class="objc">//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">22</td>
<td class="src"><pre><code class="objc">//  THE SOFTWARE.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">23</td>
<td class="src"><pre><code class="objc">//</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">24</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">25</td>
<td class="src"><pre><code class="objc">import Foundation</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">26</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">27</td>
<td class="src"><pre><code class="objc">/// `Request` is the common superclass of all Alamofire request types and provides common state, delegate, and callback</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">28</td>
<td class="src"><pre><code class="objc">/// handling.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">29</td>
<td class="src"><pre><code class="objc">public class Request {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">30</td>
<td class="src"><pre><code class="objc">    /// State of the `Request`, with managed transitions between states set when calling `resume()`, `suspend()`, or</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">31</td>
<td class="src"><pre><code class="objc">    /// `cancel()` on the `Request`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">32</td>
<td class="src"><pre><code class="objc">    public enum State {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">33</td>
<td class="src"><pre><code class="objc">        /// Initial state of the `Request`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">34</td>
<td class="src"><pre><code class="objc">        case initialized</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">35</td>
<td class="src"><pre><code class="objc">        /// `State` set when `resume()` is called. Any tasks created for the `Request` will have `resume()` called on</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">36</td>
<td class="src"><pre><code class="objc">        /// them in this state.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">37</td>
<td class="src"><pre><code class="objc">        case resumed</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">38</td>
<td class="src"><pre><code class="objc">        /// `State` set when `suspend()` is called. Any tasks created for the `Request` will have `suspend()` called on</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">39</td>
<td class="src"><pre><code class="objc">        /// them in this state.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">40</td>
<td class="src"><pre><code class="objc">        case suspended</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">41</td>
<td class="src"><pre><code class="objc">        /// `State` set when `cancel()` is called. Any tasks created for the `Request` will have `cancel()` called on</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">42</td>
<td class="src"><pre><code class="objc">        /// them. Unlike `resumed` or `suspended`, once in the `cancelled` state, the `Request` can no longer transition</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">43</td>
<td class="src"><pre><code class="objc">        /// to any other state.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">44</td>
<td class="src"><pre><code class="objc">        case cancelled</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">45</td>
<td class="src"><pre><code class="objc">        /// `State` set when all response serialization completion closures have been cleared on the `Request` and</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">46</td>
<td class="src"><pre><code class="objc">        /// enqueued on their respective queues.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">47</td>
<td class="src"><pre><code class="objc">        case finished</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">48</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">49</td>
<td class="src"><pre><code class="objc">        /// Determines whether `self` can be transitioned to the provided `State`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">50</td>
<td class="src"><pre><code class="objc">        func canTransitionTo(_ state: State) -&gt; Bool {</code></pre></td>
<td class="coverage">75x</td>
</tr>
<tr class="covered">
<td class="num">51</td>
<td class="src"><pre><code class="objc">            switch (self, state) {</code></pre></td>
<td class="coverage">75x</td>
</tr>
<tr class="covered">
<td class="num">52</td>
<td class="src"><pre><code class="objc">            case (.initialized, _):</code></pre></td>
<td class="coverage">75x</td>
</tr>
<tr class="covered">
<td class="num">53</td>
<td class="src"><pre><code class="objc">                return true</code></pre></td>
<td class="coverage">50x</td>
</tr>
<tr class="covered">
<td class="num">54</td>
<td class="src"><pre><code class="objc">            </code><code class="objc missed">case (_, .initialized), (.cancelled, _), (.finished, _):</code><code class="objc"></code></pre></td>
<td class="coverage">75x</td>
</tr>
<tr class="missed">
<td class="num">55</td>
<td class="src"><pre><code class="objc">                return false</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="covered">
<td class="num">56</td>
<td class="src"><pre><code class="objc">            </code><code class="objc missed">case (.resumed, .cancelled), (.suspended, .cancelled), (.resumed, .suspended), (.suspended, .resumed):</code><code class="objc"></code></pre></td>
<td class="coverage">75x</td>
</tr>
<tr class="missed">
<td class="num">57</td>
<td class="src"><pre><code class="objc">                return true</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="covered">
<td class="num">58</td>
<td class="src"><pre><code class="objc">            </code><code class="objc missed">case (.suspended, .suspended), (.resumed, .resumed):</code><code class="objc"></code></pre></td>
<td class="coverage">75x</td>
</tr>
<tr class="missed">
<td class="num">59</td>
<td class="src"><pre><code class="objc">                return false</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="covered">
<td class="num">60</td>
<td class="src"><pre><code class="objc">            case (_, .finished):</code></pre></td>
<td class="coverage">75x</td>
</tr>
<tr class="covered">
<td class="num">61</td>
<td class="src"><pre><code class="objc">                return true</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">62</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">75x</td>
</tr>
<tr class="covered">
<td class="num">63</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">75x</td>
</tr>
<tr class="never">
<td class="num">64</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">65</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">66</td>
<td class="src"><pre><code class="objc">    // MARK: - Initial State</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">67</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">68</td>
<td class="src"><pre><code class="objc">    /// `UUID` providing a unique identifier for the `Request`, used in the `Hashable` and `Equatable` conformances.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">69</td>
<td class="src"><pre><code class="objc">    public let id: UUID</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">70</td>
<td class="src"><pre><code class="objc">    /// The serial queue for all internal async actions.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">71</td>
<td class="src"><pre><code class="objc">    public let underlyingQueue: DispatchQueue</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">72</td>
<td class="src"><pre><code class="objc">    /// The queue used for all serialization actions. By default it's a serial queue that targets `underlyingQueue`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">73</td>
<td class="src"><pre><code class="objc">    public let serializationQueue: DispatchQueue</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">74</td>
<td class="src"><pre><code class="objc">    /// `EventMonitor` used for event callbacks.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">75</td>
<td class="src"><pre><code class="objc">    public let eventMonitor: EventMonitor?</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">76</td>
<td class="src"><pre><code class="objc">    /// The `Request`'s interceptor.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">77</td>
<td class="src"><pre><code class="objc">    public let interceptor: RequestInterceptor?</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">78</td>
<td class="src"><pre><code class="objc">    /// The `Request`'s delegate.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">79</td>
<td class="src"><pre><code class="objc">    public private(set) weak var delegate: RequestDelegate?</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">80</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">81</td>
<td class="src"><pre><code class="objc">    // MARK: - Mutable State</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">82</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">83</td>
<td class="src"><pre><code class="objc">    /// Type encapsulating all mutable state that may need to be accessed from anything other than the `underlyingQueue`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">84</td>
<td class="src"><pre><code class="objc">    struct MutableState {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">85</td>
<td class="src"><pre><code class="objc">        /// State of the `Request`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">86</td>
<td class="src"><pre><code class="objc">        var state: State = .initialized</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">87</td>
<td class="src"><pre><code class="objc">        /// `ProgressHandler` and `DispatchQueue` provided for upload progress callbacks.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">88</td>
<td class="src"><pre><code class="objc">        var uploadProgressHandler: (handler: ProgressHandler, queue: DispatchQueue)?</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">89</td>
<td class="src"><pre><code class="objc">        /// `ProgressHandler` and `DispatchQueue` provided for download progress callbacks.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">90</td>
<td class="src"><pre><code class="objc">        var downloadProgressHandler: (handler: ProgressHandler, queue: DispatchQueue)?</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">91</td>
<td class="src"><pre><code class="objc">        /// `RedirectHandler` provided for to handle request redirection.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">92</td>
<td class="src"><pre><code class="objc">        var redirectHandler: RedirectHandler?</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">93</td>
<td class="src"><pre><code class="objc">        /// `CachedResponseHandler` provided to handle response caching.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">94</td>
<td class="src"><pre><code class="objc">        var cachedResponseHandler: CachedResponseHandler?</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">95</td>
<td class="src"><pre><code class="objc">        /// Queue and closure called when the `Request` is able to create a cURL description of itself.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">96</td>
<td class="src"><pre><code class="objc">        var cURLHandler: (queue: DispatchQueue, handler: (String) -&gt; Void)?</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">97</td>
<td class="src"><pre><code class="objc">        /// Queue and closure called when the `Request` creates a `URLRequest`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">98</td>
<td class="src"><pre><code class="objc">        var urlRequestHandler: (queue: DispatchQueue, handler: (URLRequest) -&gt; Void)?</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">99</td>
<td class="src"><pre><code class="objc">        /// Queue and closure called when the `Request` creates a `URLSessionTask`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">100</td>
<td class="src"><pre><code class="objc">        var urlSessionTaskHandler: (queue: DispatchQueue, handler: (URLSessionTask) -&gt; Void)?</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">101</td>
<td class="src"><pre><code class="objc">        /// Response serialization closures that handle response parsing.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">102</td>
<td class="src"><pre><code class="objc">        var responseSerializers: [() -&gt; Void] = []</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">103</td>
<td class="src"><pre><code class="objc">        /// Response serialization completion closures executed once all response serializers are complete.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">104</td>
<td class="src"><pre><code class="objc">        var responseSerializerCompletions: [() -&gt; Void] = []</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">105</td>
<td class="src"><pre><code class="objc">        /// Whether response serializer processing is finished.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">106</td>
<td class="src"><pre><code class="objc">        var responseSerializerProcessingFinished = false</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">107</td>
<td class="src"><pre><code class="objc">        /// `URLCredential` used for authentication challenges.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">108</td>
<td class="src"><pre><code class="objc">        var credential: URLCredential?</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">109</td>
<td class="src"><pre><code class="objc">        /// All `URLRequest`s created by Alamofire on behalf of the `Request`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">110</td>
<td class="src"><pre><code class="objc">        var requests: [URLRequest] = []</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">111</td>
<td class="src"><pre><code class="objc">        /// All `URLSessionTask`s created by Alamofire on behalf of the `Request`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">112</td>
<td class="src"><pre><code class="objc">        var tasks: [URLSessionTask] = []</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">113</td>
<td class="src"><pre><code class="objc">        /// All `URLSessionTaskMetrics` values gathered by Alamofire on behalf of the `Request`. Should correspond</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">114</td>
<td class="src"><pre><code class="objc">        /// exactly the the `tasks` created.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">115</td>
<td class="src"><pre><code class="objc">        var metrics: [URLSessionTaskMetrics] = []</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">116</td>
<td class="src"><pre><code class="objc">        /// Number of times any retriers provided retried the `Request`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">117</td>
<td class="src"><pre><code class="objc">        var retryCount = 0</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">118</td>
<td class="src"><pre><code class="objc">        /// Final `AFError` for the `Request`, whether from various internal Alamofire calls or as a result of a `task`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">119</td>
<td class="src"><pre><code class="objc">        var error: AFError?</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">120</td>
<td class="src"><pre><code class="objc">        /// Whether the instance has had `finish()` called and is running the serializers. Should be replaced with a</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">121</td>
<td class="src"><pre><code class="objc">        /// representation in the state machine in the future.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">122</td>
<td class="src"><pre><code class="objc">        var isFinishing = false</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">123</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">124</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">125</td>
<td class="src"><pre><code class="objc">    /// Protected `MutableState` value that provides thread-safe access to state values.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">126</td>
<td class="src"><pre><code class="objc">    @Protected</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">127</td>
<td class="src"><pre><code class="objc">    fileprivate var mutableState = MutableState()</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">128</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">129</td>
<td class="src"><pre><code class="objc">    /// `State` of the `Request`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">130</td>
<td class="src"><pre><code class="objc">    public var state: State { mutableState.state }</code></pre></td>
<td class="coverage">75x</td>
</tr>
<tr class="never">
<td class="num">131</td>
<td class="src"><pre><code class="objc">    /// Returns whether `state` is `.initialized`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">132</td>
<td class="src"><pre><code class="objc">    public var isInitialized: Bool { state == .initialized }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">133</td>
<td class="src"><pre><code class="objc">    /// Returns whether `state is `.resumed`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">134</td>
<td class="src"><pre><code class="objc">    public var isResumed: Bool { state == .resumed }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">135</td>
<td class="src"><pre><code class="objc">    /// Returns whether `state` is `.suspended`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">136</td>
<td class="src"><pre><code class="objc">    public var isSuspended: Bool { state == .suspended }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">137</td>
<td class="src"><pre><code class="objc">    /// Returns whether `state` is `.cancelled`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">138</td>
<td class="src"><pre><code class="objc">    public var isCancelled: Bool { state == .cancelled }</code></pre></td>
<td class="coverage">75x</td>
</tr>
<tr class="never">
<td class="num">139</td>
<td class="src"><pre><code class="objc">    /// Returns whether `state` is `.finished`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">140</td>
<td class="src"><pre><code class="objc">    public var isFinished: Bool { state == .finished }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">141</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">142</td>
<td class="src"><pre><code class="objc">    // MARK: Progress</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">143</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">144</td>
<td class="src"><pre><code class="objc">    /// Closure type executed when monitoring the upload or download progress of a request.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">145</td>
<td class="src"><pre><code class="objc">    public typealias ProgressHandler = (Progress) -&gt; Void</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">146</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">147</td>
<td class="src"><pre><code class="objc">    /// `Progress` of the upload of the body of the executed `URLRequest`. Reset to `0` if the `Request` is retried.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">148</td>
<td class="src"><pre><code class="objc">    public let uploadProgress = Progress(totalUnitCount: 0)</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">149</td>
<td class="src"><pre><code class="objc">    /// `Progress` of the download of any response data. Reset to `0` if the `Request` is retried.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">150</td>
<td class="src"><pre><code class="objc">    public let downloadProgress = Progress(totalUnitCount: 0)</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">151</td>
<td class="src"><pre><code class="objc">    /// `ProgressHandler` called when `uploadProgress` is updated, on the provided `DispatchQueue`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">152</td>
<td class="src"><pre><code class="objc">    private var uploadProgressHandler: (handler: ProgressHandler, queue: DispatchQueue)? {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">153</td>
<td class="src"><pre><code class="objc">        get { mutableState.uploadProgressHandler }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">154</td>
<td class="src"><pre><code class="objc">        set { mutableState.uploadProgressHandler = newValue }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">155</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">156</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">157</td>
<td class="src"><pre><code class="objc">    /// `ProgressHandler` called when `downloadProgress` is updated, on the provided `DispatchQueue`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">158</td>
<td class="src"><pre><code class="objc">    fileprivate var downloadProgressHandler: (handler: ProgressHandler, queue: DispatchQueue)? {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">159</td>
<td class="src"><pre><code class="objc">        get { mutableState.downloadProgressHandler }</code></pre></td>
<td class="coverage">19x</td>
</tr>
<tr class="missed">
<td class="num">160</td>
<td class="src"><pre><code class="objc">        set { mutableState.downloadProgressHandler = newValue }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">161</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">162</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">163</td>
<td class="src"><pre><code class="objc">    // MARK: Redirect Handling</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">164</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">165</td>
<td class="src"><pre><code class="objc">    /// `RedirectHandler` set on the instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">166</td>
<td class="src"><pre><code class="objc">    public private(set) var redirectHandler: RedirectHandler? {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">167</td>
<td class="src"><pre><code class="objc">        get { mutableState.redirectHandler }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">168</td>
<td class="src"><pre><code class="objc">        set { mutableState.redirectHandler = newValue }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">169</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">170</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">171</td>
<td class="src"><pre><code class="objc">    // MARK: Cached Response Handling</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">172</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">173</td>
<td class="src"><pre><code class="objc">    /// `CachedResponseHandler` set on the instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">174</td>
<td class="src"><pre><code class="objc">    public private(set) var cachedResponseHandler: CachedResponseHandler? {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">175</td>
<td class="src"><pre><code class="objc">        get { mutableState.cachedResponseHandler }</code></pre></td>
<td class="coverage">2x</td>
</tr>
<tr class="missed">
<td class="num">176</td>
<td class="src"><pre><code class="objc">        set { mutableState.cachedResponseHandler = newValue }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">177</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">178</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">179</td>
<td class="src"><pre><code class="objc">    // MARK: URLCredential</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">180</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">181</td>
<td class="src"><pre><code class="objc">    /// `URLCredential` used for authentication challenges. Created by calling one of the `authenticate` methods.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">182</td>
<td class="src"><pre><code class="objc">    public private(set) var credential: URLCredential? {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">183</td>
<td class="src"><pre><code class="objc">        get { mutableState.credential }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">184</td>
<td class="src"><pre><code class="objc">        set { mutableState.credential = newValue }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">185</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">186</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">187</td>
<td class="src"><pre><code class="objc">    // MARK: Validators</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">188</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">189</td>
<td class="src"><pre><code class="objc">    /// `Validator` callback closures that store the validation calls enqueued.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">190</td>
<td class="src"><pre><code class="objc">    @Protected</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">191</td>
<td class="src"><pre><code class="objc">    fileprivate var validators: [() -&gt; Void] = []</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">192</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">193</td>
<td class="src"><pre><code class="objc">    // MARK: URLRequests</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">194</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">195</td>
<td class="src"><pre><code class="objc">    /// All `URLRequests` created on behalf of the `Request`, including original and adapted requests.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">196</td>
<td class="src"><pre><code class="objc">    public var requests: [URLRequest] { mutableState.requests }</code></pre></td>
<td class="coverage">50x</td>
</tr>
<tr class="never">
<td class="num">197</td>
<td class="src"><pre><code class="objc">    /// First `URLRequest` created on behalf of the `Request`. May not be the first one actually executed.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">198</td>
<td class="src"><pre><code class="objc">    public var firstRequest: URLRequest? { requests.first }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">199</td>
<td class="src"><pre><code class="objc">    /// Last `URLRequest` created on behalf of the `Request`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">200</td>
<td class="src"><pre><code class="objc">    public var lastRequest: URLRequest? { requests.last }</code></pre></td>
<td class="coverage">50x</td>
</tr>
<tr class="never">
<td class="num">201</td>
<td class="src"><pre><code class="objc">    /// Current `URLRequest` created on behalf of the `Request`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">202</td>
<td class="src"><pre><code class="objc">    public var request: URLRequest? { lastRequest }</code></pre></td>
<td class="coverage">50x</td>
</tr>
<tr class="never">
<td class="num">203</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">204</td>
<td class="src"><pre><code class="objc">    /// `URLRequest`s from all of the `URLSessionTask`s executed on behalf of the `Request`. May be different from</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">205</td>
<td class="src"><pre><code class="objc">    /// `requests` due to `URLSession` manipulation.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">206</td>
<td class="src"><pre><code class="objc">    public var performedRequests: [URLRequest] { $mutableState.read { $0.tasks.compactMap { $0.currentRequest } } }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">207</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">208</td>
<td class="src"><pre><code class="objc">    // MARK: HTTPURLResponse</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">209</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">210</td>
<td class="src"><pre><code class="objc">    /// `HTTPURLResponse` received from the server, if any. If the `Request` was retried, this is the response of the</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">211</td>
<td class="src"><pre><code class="objc">    /// last `URLSessionTask`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">212</td>
<td class="src"><pre><code class="objc">    public var response: HTTPURLResponse? { lastTask?.response as? HTTPURLResponse }</code></pre></td>
<td class="coverage">50x</td>
</tr>
<tr class="never">
<td class="num">213</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">214</td>
<td class="src"><pre><code class="objc">    // MARK: Tasks</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">215</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">216</td>
<td class="src"><pre><code class="objc">    /// All `URLSessionTask`s created on behalf of the `Request`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">217</td>
<td class="src"><pre><code class="objc">    public var tasks: [URLSessionTask] { mutableState.tasks }</code></pre></td>
<td class="coverage">69x</td>
</tr>
<tr class="never">
<td class="num">218</td>
<td class="src"><pre><code class="objc">    /// First `URLSessionTask` created on behalf of the `Request`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">219</td>
<td class="src"><pre><code class="objc">    public var firstTask: URLSessionTask? { tasks.first }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">220</td>
<td class="src"><pre><code class="objc">    /// Last `URLSessionTask` crated on behalf of the `Request`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">221</td>
<td class="src"><pre><code class="objc">    public var lastTask: URLSessionTask? { tasks.last }</code></pre></td>
<td class="coverage">69x</td>
</tr>
<tr class="never">
<td class="num">222</td>
<td class="src"><pre><code class="objc">    /// Current `URLSessionTask` created on behalf of the `Request`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">223</td>
<td class="src"><pre><code class="objc">    public var task: URLSessionTask? { lastTask }</code></pre></td>
<td class="coverage">19x</td>
</tr>
<tr class="never">
<td class="num">224</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">225</td>
<td class="src"><pre><code class="objc">    // MARK: Metrics</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">226</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">227</td>
<td class="src"><pre><code class="objc">    /// All `URLSessionTaskMetrics` gathered on behalf of the `Request`. Should correspond to the `tasks` created.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">228</td>
<td class="src"><pre><code class="objc">    public var allMetrics: [URLSessionTaskMetrics] { mutableState.metrics }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">229</td>
<td class="src"><pre><code class="objc">    /// First `URLSessionTaskMetrics` gathered on behalf of the `Request`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">230</td>
<td class="src"><pre><code class="objc">    public var firstMetrics: URLSessionTaskMetrics? { allMetrics.first }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">231</td>
<td class="src"><pre><code class="objc">    /// Last `URLSessionTaskMetrics` gathered on behalf of the `Request`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">232</td>
<td class="src"><pre><code class="objc">    public var lastMetrics: URLSessionTaskMetrics? { allMetrics.last }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">233</td>
<td class="src"><pre><code class="objc">    /// Current `URLSessionTaskMetrics` gathered on behalf of the `Request`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">234</td>
<td class="src"><pre><code class="objc">    public var metrics: URLSessionTaskMetrics? { lastMetrics }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">235</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">236</td>
<td class="src"><pre><code class="objc">    // MARK: Retry Count</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">237</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">238</td>
<td class="src"><pre><code class="objc">    /// Number of times the `Request` has been retried.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">239</td>
<td class="src"><pre><code class="objc">    public var retryCount: Int { mutableState.retryCount }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">240</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">241</td>
<td class="src"><pre><code class="objc">    // MARK: Error</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">242</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">243</td>
<td class="src"><pre><code class="objc">    /// `Error` returned from Alamofire internally, from the network request directly, or any validators executed.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">244</td>
<td class="src"><pre><code class="objc">    public fileprivate(set) var error: AFError? {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">245</td>
<td class="src"><pre><code class="objc">        get { mutableState.error }</code></pre></td>
<td class="coverage">75x</td>
</tr>
<tr class="covered">
<td class="num">246</td>
<td class="src"><pre><code class="objc">        set { mutableState.error = newValue }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">247</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">248</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">249</td>
<td class="src"><pre><code class="objc">    /// Default initializer for the `Request` superclass.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">250</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">251</td>
<td class="src"><pre><code class="objc">    /// - Parameters:</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">252</td>
<td class="src"><pre><code class="objc">    ///   - id:                 `UUID` used for the `Hashable` and `Equatable` implementations. `UUID()` by default.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">253</td>
<td class="src"><pre><code class="objc">    ///   - underlyingQueue:    `DispatchQueue` on which all internal `Request` work is performed.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">254</td>
<td class="src"><pre><code class="objc">    ///   - serializationQueue: `DispatchQueue` on which all serialization work is performed. By default targets</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">255</td>
<td class="src"><pre><code class="objc">    ///                         `underlyingQueue`, but can be passed another queue from a `Session`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">256</td>
<td class="src"><pre><code class="objc">    ///   - eventMonitor:       `EventMonitor` called for event callbacks from internal `Request` actions.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">257</td>
<td class="src"><pre><code class="objc">    ///   - interceptor:        `RequestInterceptor` used throughout the request lifecycle.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">258</td>
<td class="src"><pre><code class="objc">    ///   - delegate:           `RequestDelegate` that provides an interface to actions not performed by the `Request`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">259</td>
<td class="src"><pre><code class="objc">    init(id: UUID = UUID(),</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">260</td>
<td class="src"><pre><code class="objc">         underlyingQueue: DispatchQueue,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">261</td>
<td class="src"><pre><code class="objc">         serializationQueue: DispatchQueue,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">262</td>
<td class="src"><pre><code class="objc">         eventMonitor: EventMonitor?,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">263</td>
<td class="src"><pre><code class="objc">         interceptor: RequestInterceptor?,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">264</td>
<td class="src"><pre><code class="objc">         delegate: RequestDelegate) {</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">265</td>
<td class="src"><pre><code class="objc">        self.id = id</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">266</td>
<td class="src"><pre><code class="objc">        self.underlyingQueue = underlyingQueue</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">267</td>
<td class="src"><pre><code class="objc">        self.serializationQueue = serializationQueue</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">268</td>
<td class="src"><pre><code class="objc">        self.eventMonitor = eventMonitor</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">269</td>
<td class="src"><pre><code class="objc">        self.interceptor = interceptor</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">270</td>
<td class="src"><pre><code class="objc">        self.delegate = delegate</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">271</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">272</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">273</td>
<td class="src"><pre><code class="objc">    // MARK: - Internal Event API</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">274</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">275</td>
<td class="src"><pre><code class="objc">    // All API must be called from underlyingQueue.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">276</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">277</td>
<td class="src"><pre><code class="objc">    /// Called when an initial `URLRequest` has been created on behalf of the instance. If a `RequestAdapter` is active,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">278</td>
<td class="src"><pre><code class="objc">    /// the `URLRequest` will be adapted before being issued.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">279</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">280</td>
<td class="src"><pre><code class="objc">    /// - Parameter request: The `URLRequest` created.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">281</td>
<td class="src"><pre><code class="objc">    func didCreateInitialURLRequest(_ request: URLRequest) {</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">282</td>
<td class="src"><pre><code class="objc">        dispatchPrecondition(condition: .onQueue(underlyingQueue))</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">283</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">284</td>
<td class="src"><pre><code class="objc">        $mutableState.write { $0.requests.append(request) }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">285</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">286</td>
<td class="src"><pre><code class="objc">        eventMonitor?.request(self, didCreateInitialURLRequest: request)</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">287</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">288</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">289</td>
<td class="src"><pre><code class="objc">    /// Called when initial `URLRequest` creation has failed, typically through a `URLRequestConvertible`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">290</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">291</td>
<td class="src"><pre><code class="objc">    /// - Note: Triggers retry.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">292</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">293</td>
<td class="src"><pre><code class="objc">    /// - Parameter error: `AFError` thrown from the failed creation.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">294</td>
<td class="src"><pre><code class="objc">    func didFailToCreateURLRequest(with error: AFError) {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">295</td>
<td class="src"><pre><code class="objc">        dispatchPrecondition(condition: .onQueue(underlyingQueue))</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">296</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">297</td>
<td class="src"><pre><code class="objc">        self.error = error</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">298</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">299</td>
<td class="src"><pre><code class="objc">        eventMonitor?.request(self, didFailToCreateURLRequestWithError: error)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">300</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">301</td>
<td class="src"><pre><code class="objc">        callCURLHandlerIfNecessary()</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">302</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">303</td>
<td class="src"><pre><code class="objc">        retryOrFinish(error: error)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">304</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">305</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">306</td>
<td class="src"><pre><code class="objc">    /// Called when a `RequestAdapter` has successfully adapted a `URLRequest`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">307</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">308</td>
<td class="src"><pre><code class="objc">    /// - Parameters:</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">309</td>
<td class="src"><pre><code class="objc">    ///   - initialRequest: The `URLRequest` that was adapted.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">310</td>
<td class="src"><pre><code class="objc">    ///   - adaptedRequest: The `URLRequest` returned by the `RequestAdapter`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">311</td>
<td class="src"><pre><code class="objc">    func didAdaptInitialRequest(_ initialRequest: URLRequest, to adaptedRequest: URLRequest) {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">312</td>
<td class="src"><pre><code class="objc">        dispatchPrecondition(condition: .onQueue(underlyingQueue))</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">313</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">314</td>
<td class="src"><pre><code class="objc">        $mutableState.write { $0.requests.append(adaptedRequest) }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">315</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">316</td>
<td class="src"><pre><code class="objc">        eventMonitor?.request(self, didAdaptInitialRequest: initialRequest, to: adaptedRequest)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">317</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">318</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">319</td>
<td class="src"><pre><code class="objc">    /// Called when a `RequestAdapter` fails to adapt a `URLRequest`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">320</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">321</td>
<td class="src"><pre><code class="objc">    /// - Note: Triggers retry.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">322</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">323</td>
<td class="src"><pre><code class="objc">    /// - Parameters:</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">324</td>
<td class="src"><pre><code class="objc">    ///   - request: The `URLRequest` the adapter was called with.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">325</td>
<td class="src"><pre><code class="objc">    ///   - error:   The `AFError` returned by the `RequestAdapter`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">326</td>
<td class="src"><pre><code class="objc">    func didFailToAdaptURLRequest(_ request: URLRequest, withError error: AFError) {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">327</td>
<td class="src"><pre><code class="objc">        dispatchPrecondition(condition: .onQueue(underlyingQueue))</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">328</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">329</td>
<td class="src"><pre><code class="objc">        self.error = error</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">330</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">331</td>
<td class="src"><pre><code class="objc">        eventMonitor?.request(self, didFailToAdaptURLRequest: request, withError: error)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">332</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">333</td>
<td class="src"><pre><code class="objc">        callCURLHandlerIfNecessary()</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">334</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">335</td>
<td class="src"><pre><code class="objc">        retryOrFinish(error: error)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">336</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">337</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">338</td>
<td class="src"><pre><code class="objc">    /// Final `URLRequest` has been created for the instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">339</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">340</td>
<td class="src"><pre><code class="objc">    /// - Parameter request: The `URLRequest` created.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">341</td>
<td class="src"><pre><code class="objc">    func didCreateURLRequest(_ request: URLRequest) {</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">342</td>
<td class="src"><pre><code class="objc">        dispatchPrecondition(condition: .onQueue(underlyingQueue))</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">343</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">344</td>
<td class="src"><pre><code class="objc">        $mutableState.read { state in</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">345</td>
<td class="src"><pre><code class="objc">            state.urlRequestHandler?.queue.async </code><code class="objc missed">{ state.urlRequestHandler?.handler(request) }</code><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">346</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">347</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">348</td>
<td class="src"><pre><code class="objc">        eventMonitor?.request(self, didCreateURLRequest: request)</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">349</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">350</td>
<td class="src"><pre><code class="objc">        callCURLHandlerIfNecessary()</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">351</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">352</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">353</td>
<td class="src"><pre><code class="objc">    /// Asynchronously calls any stored `cURLHandler` and then removes it from `mutableState`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">354</td>
<td class="src"><pre><code class="objc">    private func callCURLHandlerIfNecessary() {</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">355</td>
<td class="src"><pre><code class="objc">        $mutableState.write { mutableState in</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">356</td>
<td class="src"><pre><code class="objc">            guard let cURLHandler = mutableState.cURLHandler else { return }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="missed">
<td class="num">357</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">358</td>
<td class="src"><pre><code class="objc">            cURLHandler.queue.async { cURLHandler.handler(self.cURLDescription()) }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">359</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">360</td>
<td class="src"><pre><code class="objc">            mutableState.cURLHandler = nil</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">361</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="covered">
<td class="num">362</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">363</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">364</td>
<td class="src"><pre><code class="objc">    /// Called when a `URLSessionTask` is created on behalf of the instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">365</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">366</td>
<td class="src"><pre><code class="objc">    /// - Parameter task: The `URLSessionTask` created.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">367</td>
<td class="src"><pre><code class="objc">    func didCreateTask(_ task: URLSessionTask) {</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">368</td>
<td class="src"><pre><code class="objc">        dispatchPrecondition(condition: .onQueue(underlyingQueue))</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">369</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">370</td>
<td class="src"><pre><code class="objc">        $mutableState.write { state in</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">371</td>
<td class="src"><pre><code class="objc">            state.tasks.append(task)</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">372</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">373</td>
<td class="src"><pre><code class="objc">            guard let urlSessionTaskHandler = state.urlSessionTaskHandler else { return }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="missed">
<td class="num">374</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">375</td>
<td class="src"><pre><code class="objc">            urlSessionTaskHandler.queue.async { urlSessionTaskHandler.handler(task) }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">376</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="covered">
<td class="num">377</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">378</td>
<td class="src"><pre><code class="objc">        eventMonitor?.request(self, didCreateTask: task)</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">379</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">380</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">381</td>
<td class="src"><pre><code class="objc">    /// Called when resumption is completed.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">382</td>
<td class="src"><pre><code class="objc">    func didResume() {</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">383</td>
<td class="src"><pre><code class="objc">        dispatchPrecondition(condition: .onQueue(underlyingQueue))</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">384</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">385</td>
<td class="src"><pre><code class="objc">        eventMonitor?.requestDidResume(self)</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">386</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">387</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">388</td>
<td class="src"><pre><code class="objc">    /// Called when a `URLSessionTask` is resumed on behalf of the instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">389</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">390</td>
<td class="src"><pre><code class="objc">    /// - Parameter task: The `URLSessionTask` resumed.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">391</td>
<td class="src"><pre><code class="objc">    func didResumeTask(_ task: URLSessionTask) {</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">392</td>
<td class="src"><pre><code class="objc">        dispatchPrecondition(condition: .onQueue(underlyingQueue))</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">393</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">394</td>
<td class="src"><pre><code class="objc">        eventMonitor?.request(self, didResumeTask: task)</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">395</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">396</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">397</td>
<td class="src"><pre><code class="objc">    /// Called when suspension is completed.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">398</td>
<td class="src"><pre><code class="objc">    func didSuspend() {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">399</td>
<td class="src"><pre><code class="objc">        dispatchPrecondition(condition: .onQueue(underlyingQueue))</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">400</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">401</td>
<td class="src"><pre><code class="objc">        eventMonitor?.requestDidSuspend(self)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">402</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">403</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">404</td>
<td class="src"><pre><code class="objc">    /// Called when a `URLSessionTask` is suspended on behalf of the instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">405</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">406</td>
<td class="src"><pre><code class="objc">    /// - Parameter task: The `URLSessionTask` suspended.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">407</td>
<td class="src"><pre><code class="objc">    func didSuspendTask(_ task: URLSessionTask) {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">408</td>
<td class="src"><pre><code class="objc">        dispatchPrecondition(condition: .onQueue(underlyingQueue))</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">409</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">410</td>
<td class="src"><pre><code class="objc">        eventMonitor?.request(self, didSuspendTask: task)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">411</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">412</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">413</td>
<td class="src"><pre><code class="objc">    /// Called when cancellation is completed, sets `error` to `AFError.explicitlyCancelled`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">414</td>
<td class="src"><pre><code class="objc">    func didCancel() {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">415</td>
<td class="src"><pre><code class="objc">        dispatchPrecondition(condition: .onQueue(underlyingQueue))</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">416</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">417</td>
<td class="src"><pre><code class="objc">        error = error ?? AFError.explicitlyCancelled</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">418</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">419</td>
<td class="src"><pre><code class="objc">        eventMonitor?.requestDidCancel(self)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">420</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">421</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">422</td>
<td class="src"><pre><code class="objc">    /// Called when a `URLSessionTask` is cancelled on behalf of the instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">423</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">424</td>
<td class="src"><pre><code class="objc">    /// - Parameter task: The `URLSessionTask` cancelled.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">425</td>
<td class="src"><pre><code class="objc">    func didCancelTask(_ task: URLSessionTask) {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">426</td>
<td class="src"><pre><code class="objc">        dispatchPrecondition(condition: .onQueue(underlyingQueue))</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">427</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">428</td>
<td class="src"><pre><code class="objc">        eventMonitor?.request(self, didCancelTask: task)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">429</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">430</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">431</td>
<td class="src"><pre><code class="objc">    /// Called when a `URLSessionTaskMetrics` value is gathered on behalf of the instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">432</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">433</td>
<td class="src"><pre><code class="objc">    /// - Parameter metrics: The `URLSessionTaskMetrics` gathered.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">434</td>
<td class="src"><pre><code class="objc">    func didGatherMetrics(_ metrics: URLSessionTaskMetrics) {</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">435</td>
<td class="src"><pre><code class="objc">        dispatchPrecondition(condition: .onQueue(underlyingQueue))</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">436</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">437</td>
<td class="src"><pre><code class="objc">        $mutableState.write { $0.metrics.append(metrics) }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">438</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">439</td>
<td class="src"><pre><code class="objc">        eventMonitor?.request(self, didGatherMetrics: metrics)</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">440</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">441</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">442</td>
<td class="src"><pre><code class="objc">    /// Called when a `URLSessionTask` fails before it is finished, typically during certificate pinning.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">443</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">444</td>
<td class="src"><pre><code class="objc">    /// - Parameters:</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">445</td>
<td class="src"><pre><code class="objc">    ///   - task:  The `URLSessionTask` which failed.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">446</td>
<td class="src"><pre><code class="objc">    ///   - error: The early failure `AFError`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">447</td>
<td class="src"><pre><code class="objc">    func didFailTask(_ task: URLSessionTask, earlyWithError error: AFError) {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">448</td>
<td class="src"><pre><code class="objc">        dispatchPrecondition(condition: .onQueue(underlyingQueue))</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">449</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">450</td>
<td class="src"><pre><code class="objc">        self.error = error</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">451</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">452</td>
<td class="src"><pre><code class="objc">        // Task will still complete, so didCompleteTask(_:with:) will handle retry.</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">453</td>
<td class="src"><pre><code class="objc">        eventMonitor?.request(self, didFailTask: task, earlyWithError: error)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">454</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">455</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">456</td>
<td class="src"><pre><code class="objc">    /// Called when a `URLSessionTask` completes. All tasks will eventually call this method.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">457</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">458</td>
<td class="src"><pre><code class="objc">    /// - Note: Response validation is synchronously triggered in this step.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">459</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">460</td>
<td class="src"><pre><code class="objc">    /// - Parameters:</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">461</td>
<td class="src"><pre><code class="objc">    ///   - task:  The `URLSessionTask` which completed.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">462</td>
<td class="src"><pre><code class="objc">    ///   - error: The `AFError` `task` may have completed with. If `error` has already been set on the instance, this</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">463</td>
<td class="src"><pre><code class="objc">    ///            value is ignored.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">464</td>
<td class="src"><pre><code class="objc">    func didCompleteTask(_ task: URLSessionTask, with error: AFError?) {</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">465</td>
<td class="src"><pre><code class="objc">        dispatchPrecondition(condition: .onQueue(underlyingQueue))</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">466</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">467</td>
<td class="src"><pre><code class="objc">        self.error = self.error ?? error</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">468</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">469</td>
<td class="src"><pre><code class="objc">        validators.forEach </code><code class="objc missed">{ $0() }</code><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">470</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">471</td>
<td class="src"><pre><code class="objc">        eventMonitor?.request(self, didCompleteTask: task, with: error)</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">472</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">473</td>
<td class="src"><pre><code class="objc">        retryOrFinish(error: self.error)</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">474</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">475</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">476</td>
<td class="src"><pre><code class="objc">    /// Called when the `RequestDelegate` is going to retry this `Request`. Calls `reset()`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">477</td>
<td class="src"><pre><code class="objc">    func prepareForRetry() {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">478</td>
<td class="src"><pre><code class="objc">        dispatchPrecondition(condition: .onQueue(underlyingQueue))</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">479</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">480</td>
<td class="src"><pre><code class="objc">        $mutableState.write { $0.retryCount += 1 }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">481</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">482</td>
<td class="src"><pre><code class="objc">        reset()</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">483</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">484</td>
<td class="src"><pre><code class="objc">        eventMonitor?.requestIsRetrying(self)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">485</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">486</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">487</td>
<td class="src"><pre><code class="objc">    /// Called to determine whether retry will be triggered for the particular error, or whether the instance should</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">488</td>
<td class="src"><pre><code class="objc">    /// call `finish()`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">489</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">490</td>
<td class="src"><pre><code class="objc">    /// - Parameter error: The possible `AFError` which may trigger retry.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">491</td>
<td class="src"><pre><code class="objc">    func retryOrFinish(error: AFError?) {</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">492</td>
<td class="src"><pre><code class="objc">        dispatchPrecondition(condition: .onQueue(underlyingQueue))</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">493</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">494</td>
<td class="src"><pre><code class="objc">        guard let error = error, let delegate = delegate else { finish(); return }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">495</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">3x</td>
</tr>
<tr class="covered">
<td class="num">496</td>
<td class="src"><pre><code class="objc">        delegate.retryResult(for: self, dueTo: error) { retryResult in</code></pre></td>
<td class="coverage">3x</td>
</tr>
<tr class="covered">
<td class="num">497</td>
<td class="src"><pre><code class="objc">            switch retryResult {</code></pre></td>
<td class="coverage">3x</td>
</tr>
<tr class="covered">
<td class="num">498</td>
<td class="src"><pre><code class="objc">            case .doNotRetry:</code></pre></td>
<td class="coverage">3x</td>
</tr>
<tr class="covered">
<td class="num">499</td>
<td class="src"><pre><code class="objc">                self.finish()</code></pre></td>
<td class="coverage">3x</td>
</tr>
<tr class="covered">
<td class="num">500</td>
<td class="src"><pre><code class="objc">            case let .doNotRetryWithError(retryError):</code></pre></td>
<td class="coverage">3x</td>
</tr>
<tr class="missed">
<td class="num">501</td>
<td class="src"><pre><code class="objc">                self.finish(error: retryError.asAFError(orFailWith: "Received retryError was not already AFError"))</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="covered">
<td class="num">502</td>
<td class="src"><pre><code class="objc">            </code><code class="objc missed">case .retry, .retryWithDelay:</code><code class="objc"></code></pre></td>
<td class="coverage">3x</td>
</tr>
<tr class="missed">
<td class="num">503</td>
<td class="src"><pre><code class="objc">                delegate.retryRequest(self, withDelay: retryResult.delay)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="covered">
<td class="num">504</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">3x</td>
</tr>
<tr class="covered">
<td class="num">505</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">3x</td>
</tr>
<tr class="covered">
<td class="num">506</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">3x</td>
</tr>
<tr class="never">
<td class="num">507</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">508</td>
<td class="src"><pre><code class="objc">    /// Finishes this `Request` and starts the response serializers.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">509</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">510</td>
<td class="src"><pre><code class="objc">    /// - Parameter error: The possible `Error` with which the instance will finish.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">511</td>
<td class="src"><pre><code class="objc">    func finish(error: AFError? = nil) {</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">512</td>
<td class="src"><pre><code class="objc">        dispatchPrecondition(condition: .onQueue(underlyingQueue))</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">513</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">514</td>
<td class="src"><pre><code class="objc">        guard !mutableState.isFinishing else </code><code class="objc missed">{ return }</code><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">515</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">516</td>
<td class="src"><pre><code class="objc">        mutableState.isFinishing = true</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">517</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">518</td>
<td class="src"><pre><code class="objc">        if let error = error </code><code class="objc missed">{ self.error = error }</code><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">519</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">520</td>
<td class="src"><pre><code class="objc">        // Start response handlers</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">521</td>
<td class="src"><pre><code class="objc">        processNextResponseSerializer()</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">522</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">523</td>
<td class="src"><pre><code class="objc">        eventMonitor?.requestDidFinish(self)</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">524</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">525</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">526</td>
<td class="src"><pre><code class="objc">    /// Appends the response serialization closure to the instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">527</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">528</td>
<td class="src"><pre><code class="objc">    ///  - Note: This method will also `resume` the instance if `delegate.startImmediately` returns `true`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">529</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">530</td>
<td class="src"><pre><code class="objc">    /// - Parameter closure: The closure containing the response serialization call.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">531</td>
<td class="src"><pre><code class="objc">    func appendResponseSerializer(_ closure: @escaping () -&gt; Void) {</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">532</td>
<td class="src"><pre><code class="objc">        $mutableState.write { mutableState in</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">533</td>
<td class="src"><pre><code class="objc">            mutableState.responseSerializers.append(closure)</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">534</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">535</td>
<td class="src"><pre><code class="objc">            if mutableState.state == .finished </code><code class="objc missed">{</code><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="missed">
<td class="num">536</td>
<td class="src"><pre><code class="objc">                mutableState.state = .resumed</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="covered">
<td class="num">537</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">538</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">539</td>
<td class="src"><pre><code class="objc">            if mutableState.responseSerializerProcessingFinished {</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="missed">
<td class="num">540</td>
<td class="src"><pre><code class="objc">                underlyingQueue.async { self.processNextResponseSerializer() }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="covered">
<td class="num">541</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">542</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">543</td>
<td class="src"><pre><code class="objc">            if mutableState.state.canTransitionTo(.resumed) {</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">544</td>
<td class="src"><pre><code class="objc">                underlyingQueue.async { if self.delegate?.startImmediately == true { self.resume() } }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">545</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">546</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">547</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">548</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">549</td>
<td class="src"><pre><code class="objc">    /// Returns the next response serializer closure to execute if there's one left.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">550</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">551</td>
<td class="src"><pre><code class="objc">    /// - Returns: The next response serialization closure, if there is one.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">552</td>
<td class="src"><pre><code class="objc">    func nextResponseSerializer() -&gt; (() -&gt; Void)? {</code></pre></td>
<td class="coverage">50x</td>
</tr>
<tr class="covered">
<td class="num">553</td>
<td class="src"><pre><code class="objc">        var responseSerializer: (() -&gt; Void)?</code></pre></td>
<td class="coverage">50x</td>
</tr>
<tr class="covered">
<td class="num">554</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">50x</td>
</tr>
<tr class="covered">
<td class="num">555</td>
<td class="src"><pre><code class="objc">        $mutableState.write { mutableState in</code></pre></td>
<td class="coverage">50x</td>
</tr>
<tr class="covered">
<td class="num">556</td>
<td class="src"><pre><code class="objc">            let responseSerializerIndex = mutableState.responseSerializerCompletions.count</code></pre></td>
<td class="coverage">50x</td>
</tr>
<tr class="covered">
<td class="num">557</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">50x</td>
</tr>
<tr class="covered">
<td class="num">558</td>
<td class="src"><pre><code class="objc">            if responseSerializerIndex &lt; mutableState.responseSerializers.count {</code></pre></td>
<td class="coverage">50x</td>
</tr>
<tr class="covered">
<td class="num">559</td>
<td class="src"><pre><code class="objc">                responseSerializer = mutableState.responseSerializers[responseSerializerIndex]</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">560</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">50x</td>
</tr>
<tr class="covered">
<td class="num">561</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">50x</td>
</tr>
<tr class="covered">
<td class="num">562</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">50x</td>
</tr>
<tr class="covered">
<td class="num">563</td>
<td class="src"><pre><code class="objc">        return responseSerializer</code></pre></td>
<td class="coverage">50x</td>
</tr>
<tr class="covered">
<td class="num">564</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">50x</td>
</tr>
<tr class="never">
<td class="num">565</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">566</td>
<td class="src"><pre><code class="objc">    /// Processes the next response serializer and calls all completions if response serialization is complete.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">567</td>
<td class="src"><pre><code class="objc">    func processNextResponseSerializer() {</code></pre></td>
<td class="coverage">50x</td>
</tr>
<tr class="covered">
<td class="num">568</td>
<td class="src"><pre><code class="objc">        guard let responseSerializer = nextResponseSerializer() else {</code></pre></td>
<td class="coverage">50x</td>
</tr>
<tr class="covered">
<td class="num">569</td>
<td class="src"><pre><code class="objc">            // Execute all response serializer completions and clear them</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">570</td>
<td class="src"><pre><code class="objc">            var completions: [() -&gt; Void] = []</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">571</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">572</td>
<td class="src"><pre><code class="objc">            $mutableState.write { mutableState in</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">573</td>
<td class="src"><pre><code class="objc">                completions = mutableState.responseSerializerCompletions</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">574</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">575</td>
<td class="src"><pre><code class="objc">                // Clear out all response serializers and response serializer completions in mutable state since the</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">576</td>
<td class="src"><pre><code class="objc">                // request is complete. It's important to do this prior to calling the completion closures in case</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">577</td>
<td class="src"><pre><code class="objc">                // the completions call back into the request triggering a re-processing of the response serializers.</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">578</td>
<td class="src"><pre><code class="objc">                // An example of how this can happen is by calling cancel inside a response completion closure.</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">579</td>
<td class="src"><pre><code class="objc">                mutableState.responseSerializers.removeAll()</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">580</td>
<td class="src"><pre><code class="objc">                mutableState.responseSerializerCompletions.removeAll()</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">581</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">582</td>
<td class="src"><pre><code class="objc">                if mutableState.state.canTransitionTo(.finished) {</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">583</td>
<td class="src"><pre><code class="objc">                    mutableState.state = .finished</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">584</td>
<td class="src"><pre><code class="objc">                }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">585</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">586</td>
<td class="src"><pre><code class="objc">                mutableState.responseSerializerProcessingFinished = true</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">587</td>
<td class="src"><pre><code class="objc">                mutableState.isFinishing = false</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">588</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">589</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">590</td>
<td class="src"><pre><code class="objc">            completions.forEach { $0() }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">591</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">592</td>
<td class="src"><pre><code class="objc">            // Cleanup the request</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">593</td>
<td class="src"><pre><code class="objc">            cleanup()</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">594</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">595</td>
<td class="src"><pre><code class="objc">            return</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">596</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">597</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">598</td>
<td class="src"><pre><code class="objc">        serializationQueue.async { responseSerializer() }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">599</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">600</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">601</td>
<td class="src"><pre><code class="objc">    /// Notifies the `Request` that the response serializer is complete.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">602</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">603</td>
<td class="src"><pre><code class="objc">    /// - Parameter completion: The completion handler provided with the response serializer, called when all serializers</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">604</td>
<td class="src"><pre><code class="objc">    ///                         are complete.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">605</td>
<td class="src"><pre><code class="objc">    func responseSerializerDidComplete(completion: @escaping () -&gt; Void) {</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">606</td>
<td class="src"><pre><code class="objc">        $mutableState.write { $0.responseSerializerCompletions.append(completion) }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">607</td>
<td class="src"><pre><code class="objc">        processNextResponseSerializer()</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">608</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">609</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">610</td>
<td class="src"><pre><code class="objc">    /// Resets all task and response serializer related state for retry.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">611</td>
<td class="src"><pre><code class="objc">    func reset() {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">612</td>
<td class="src"><pre><code class="objc">        error = nil</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">613</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">614</td>
<td class="src"><pre><code class="objc">        uploadProgress.totalUnitCount = 0</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">615</td>
<td class="src"><pre><code class="objc">        uploadProgress.completedUnitCount = 0</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">616</td>
<td class="src"><pre><code class="objc">        downloadProgress.totalUnitCount = 0</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">617</td>
<td class="src"><pre><code class="objc">        downloadProgress.completedUnitCount = 0</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">618</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">619</td>
<td class="src"><pre><code class="objc">        $mutableState.write { state in</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">620</td>
<td class="src"><pre><code class="objc">            state.isFinishing = false</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">621</td>
<td class="src"><pre><code class="objc">            state.responseSerializerCompletions = []</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">622</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">623</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">624</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">625</td>
<td class="src"><pre><code class="objc">    /// Called when updating the upload progress.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">626</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">627</td>
<td class="src"><pre><code class="objc">    /// - Parameters:</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">628</td>
<td class="src"><pre><code class="objc">    ///   - totalBytesSent: Total bytes sent so far.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">629</td>
<td class="src"><pre><code class="objc">    ///   - totalBytesExpectedToSend: Total bytes expected to send.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">630</td>
<td class="src"><pre><code class="objc">    func updateUploadProgress(totalBytesSent: Int64, totalBytesExpectedToSend: Int64) {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">631</td>
<td class="src"><pre><code class="objc">        uploadProgress.totalUnitCount = totalBytesExpectedToSend</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">632</td>
<td class="src"><pre><code class="objc">        uploadProgress.completedUnitCount = totalBytesSent</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">633</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">634</td>
<td class="src"><pre><code class="objc">        uploadProgressHandler?.queue.async { self.uploadProgressHandler?.handler(self.uploadProgress) }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">635</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">636</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">637</td>
<td class="src"><pre><code class="objc">    /// Perform a closure on the current `state` while locked.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">638</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">639</td>
<td class="src"><pre><code class="objc">    /// - Parameter perform: The closure to perform.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">640</td>
<td class="src"><pre><code class="objc">    func withState(perform: (State) -&gt; Void) {</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">641</td>
<td class="src"><pre><code class="objc">        $mutableState.withState(perform: perform)</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">642</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">643</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">644</td>
<td class="src"><pre><code class="objc">    // MARK: Task Creation</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">645</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">646</td>
<td class="src"><pre><code class="objc">    /// Called when creating a `URLSessionTask` for this `Request`. Subclasses must override.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">647</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">648</td>
<td class="src"><pre><code class="objc">    /// - Parameters:</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">649</td>
<td class="src"><pre><code class="objc">    ///   - request: `URLRequest` to use to create the `URLSessionTask`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">650</td>
<td class="src"><pre><code class="objc">    ///   - session: `URLSession` which creates the `URLSessionTask`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">651</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">652</td>
<td class="src"><pre><code class="objc">    /// - Returns:   The `URLSessionTask` created.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">653</td>
<td class="src"><pre><code class="objc">    func task(for request: URLRequest, using session: URLSession) -&gt; URLSessionTask {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">654</td>
<td class="src"><pre><code class="objc">        fatalError("Subclasses must override.")</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">655</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">656</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">657</td>
<td class="src"><pre><code class="objc">    // MARK: - Public API</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">658</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">659</td>
<td class="src"><pre><code class="objc">    // These APIs are callable from any queue.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">660</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">661</td>
<td class="src"><pre><code class="objc">    // MARK: State</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">662</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">663</td>
<td class="src"><pre><code class="objc">    /// Cancels the instance. Once cancelled, a `Request` can no longer be resumed or suspended.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">664</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">665</td>
<td class="src"><pre><code class="objc">    /// - Returns: The instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">666</td>
<td class="src"><pre><code class="objc">    @discardableResult</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">667</td>
<td class="src"><pre><code class="objc">    public func cancel() -&gt; Self {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">668</td>
<td class="src"><pre><code class="objc">        $mutableState.write { mutableState in</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">669</td>
<td class="src"><pre><code class="objc">            guard mutableState.state.canTransitionTo(.cancelled) else { return }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">670</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">671</td>
<td class="src"><pre><code class="objc">            mutableState.state = .cancelled</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">672</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">673</td>
<td class="src"><pre><code class="objc">            underlyingQueue.async { self.didCancel() }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">674</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">675</td>
<td class="src"><pre><code class="objc">            guard let task = mutableState.tasks.last, task.state != .completed else {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">676</td>
<td class="src"><pre><code class="objc">                underlyingQueue.async { self.finish() }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">677</td>
<td class="src"><pre><code class="objc">                return</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">678</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">679</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">680</td>
<td class="src"><pre><code class="objc">            // Resume to ensure metrics are gathered.</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">681</td>
<td class="src"><pre><code class="objc">            task.resume()</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">682</td>
<td class="src"><pre><code class="objc">            task.cancel()</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">683</td>
<td class="src"><pre><code class="objc">            underlyingQueue.async { self.didCancelTask(task) }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">684</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">685</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">686</td>
<td class="src"><pre><code class="objc">        return self</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">687</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">688</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">689</td>
<td class="src"><pre><code class="objc">    /// Suspends the instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">690</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">691</td>
<td class="src"><pre><code class="objc">    /// - Returns: The instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">692</td>
<td class="src"><pre><code class="objc">    @discardableResult</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">693</td>
<td class="src"><pre><code class="objc">    public func suspend() -&gt; Self {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">694</td>
<td class="src"><pre><code class="objc">        $mutableState.write { mutableState in</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">695</td>
<td class="src"><pre><code class="objc">            guard mutableState.state.canTransitionTo(.suspended) else { return }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">696</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">697</td>
<td class="src"><pre><code class="objc">            mutableState.state = .suspended</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">698</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">699</td>
<td class="src"><pre><code class="objc">            underlyingQueue.async { self.didSuspend() }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">700</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">701</td>
<td class="src"><pre><code class="objc">            guard let task = mutableState.tasks.last, task.state != .completed else { return }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">702</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">703</td>
<td class="src"><pre><code class="objc">            task.suspend()</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">704</td>
<td class="src"><pre><code class="objc">            underlyingQueue.async { self.didSuspendTask(task) }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">705</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">706</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">707</td>
<td class="src"><pre><code class="objc">        return self</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">708</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">709</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">710</td>
<td class="src"><pre><code class="objc">    /// Resumes the instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">711</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">712</td>
<td class="src"><pre><code class="objc">    /// - Returns: The instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">713</td>
<td class="src"><pre><code class="objc">    @discardableResult</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">714</td>
<td class="src"><pre><code class="objc">    public func resume() -&gt; Self {</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">715</td>
<td class="src"><pre><code class="objc">        $mutableState.write { mutableState in</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">716</td>
<td class="src"><pre><code class="objc">            guard mutableState.state.canTransitionTo(.resumed) else </code><code class="objc missed">{ return }</code><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">717</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">718</td>
<td class="src"><pre><code class="objc">            mutableState.state = .resumed</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">719</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">720</td>
<td class="src"><pre><code class="objc">            underlyingQueue.async { self.didResume() }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">721</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">722</td>
<td class="src"><pre><code class="objc">            guard let task = mutableState.tasks.last, task.state != .completed else { return }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="missed">
<td class="num">723</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">724</td>
<td class="src"><pre><code class="objc">            task.resume()</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">725</td>
<td class="src"><pre><code class="objc">            underlyingQueue.async { self.didResumeTask(task) }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">726</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="covered">
<td class="num">727</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">728</td>
<td class="src"><pre><code class="objc">        return self</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">729</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">730</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">731</td>
<td class="src"><pre><code class="objc">    // MARK: - Closure API</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">732</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">733</td>
<td class="src"><pre><code class="objc">    /// Associates a credential using the provided values with the instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">734</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">735</td>
<td class="src"><pre><code class="objc">    /// - Parameters:</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">736</td>
<td class="src"><pre><code class="objc">    ///   - username:    The username.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">737</td>
<td class="src"><pre><code class="objc">    ///   - password:    The password.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">738</td>
<td class="src"><pre><code class="objc">    ///   - persistence: The `URLCredential.Persistence` for the created `URLCredential`. `.forSession` by default.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">739</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">740</td>
<td class="src"><pre><code class="objc">    /// - Returns:       The instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">741</td>
<td class="src"><pre><code class="objc">    @discardableResult</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">742</td>
<td class="src"><pre><code class="objc">    public func authenticate(username: String, password: String, persistence: URLCredential.Persistence = .forSession) -&gt; Self {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">743</td>
<td class="src"><pre><code class="objc">        let credential = URLCredential(user: username, password: password, persistence: persistence)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">744</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">745</td>
<td class="src"><pre><code class="objc">        return authenticate(with: credential)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">746</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">747</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">748</td>
<td class="src"><pre><code class="objc">    /// Associates the provided credential with the instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">749</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">750</td>
<td class="src"><pre><code class="objc">    /// - Parameter credential: The `URLCredential`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">751</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">752</td>
<td class="src"><pre><code class="objc">    /// - Returns:              The instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">753</td>
<td class="src"><pre><code class="objc">    @discardableResult</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">754</td>
<td class="src"><pre><code class="objc">    public func authenticate(with credential: URLCredential) -&gt; Self {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">755</td>
<td class="src"><pre><code class="objc">        mutableState.credential = credential</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">756</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">757</td>
<td class="src"><pre><code class="objc">        return self</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">758</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">759</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">760</td>
<td class="src"><pre><code class="objc">    /// Sets a closure to be called periodically during the lifecycle of the instance as data is read from the server.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">761</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">762</td>
<td class="src"><pre><code class="objc">    /// - Note: Only the last closure provided is used.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">763</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">764</td>
<td class="src"><pre><code class="objc">    /// - Parameters:</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">765</td>
<td class="src"><pre><code class="objc">    ///   - queue:   The `DispatchQueue` to execute the closure on. `.main` by default.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">766</td>
<td class="src"><pre><code class="objc">    ///   - closure: The closure to be executed periodically as data is read from the server.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">767</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">768</td>
<td class="src"><pre><code class="objc">    /// - Returns:   The instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">769</td>
<td class="src"><pre><code class="objc">    @discardableResult</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">770</td>
<td class="src"><pre><code class="objc">    public func downloadProgress(queue: DispatchQueue = .main, closure: @escaping ProgressHandler) -&gt; Self {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">771</td>
<td class="src"><pre><code class="objc">        mutableState.downloadProgressHandler = (handler: closure, queue: queue)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">772</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">773</td>
<td class="src"><pre><code class="objc">        return self</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">774</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">775</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">776</td>
<td class="src"><pre><code class="objc">    /// Sets a closure to be called periodically during the lifecycle of the instance as data is sent to the server.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">777</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">778</td>
<td class="src"><pre><code class="objc">    /// - Note: Only the last closure provided is used.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">779</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">780</td>
<td class="src"><pre><code class="objc">    /// - Parameters:</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">781</td>
<td class="src"><pre><code class="objc">    ///   - queue:   The `DispatchQueue` to execute the closure on. `.main` by default.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">782</td>
<td class="src"><pre><code class="objc">    ///   - closure: The closure to be executed periodically as data is sent to the server.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">783</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">784</td>
<td class="src"><pre><code class="objc">    /// - Returns:   The instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">785</td>
<td class="src"><pre><code class="objc">    @discardableResult</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">786</td>
<td class="src"><pre><code class="objc">    public func uploadProgress(queue: DispatchQueue = .main, closure: @escaping ProgressHandler) -&gt; Self {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">787</td>
<td class="src"><pre><code class="objc">        mutableState.uploadProgressHandler = (handler: closure, queue: queue)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">788</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">789</td>
<td class="src"><pre><code class="objc">        return self</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">790</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">791</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">792</td>
<td class="src"><pre><code class="objc">    // MARK: Redirects</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">793</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">794</td>
<td class="src"><pre><code class="objc">    /// Sets the redirect handler for the instance which will be used if a redirect response is encountered.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">795</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">796</td>
<td class="src"><pre><code class="objc">    /// - Note: Attempting to set the redirect handler more than once is a logic error and will crash.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">797</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">798</td>
<td class="src"><pre><code class="objc">    /// - Parameter handler: The `RedirectHandler`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">799</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">800</td>
<td class="src"><pre><code class="objc">    /// - Returns:           The instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">801</td>
<td class="src"><pre><code class="objc">    @discardableResult</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">802</td>
<td class="src"><pre><code class="objc">    public func redirect(using handler: RedirectHandler) -&gt; Self {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">803</td>
<td class="src"><pre><code class="objc">        $mutableState.write { mutableState in</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">804</td>
<td class="src"><pre><code class="objc">            precondition(mutableState.redirectHandler == nil, "Redirect handler has already been set.")</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">805</td>
<td class="src"><pre><code class="objc">            mutableState.redirectHandler = handler</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">806</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">807</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">808</td>
<td class="src"><pre><code class="objc">        return self</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">809</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">810</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">811</td>
<td class="src"><pre><code class="objc">    // MARK: Cached Responses</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">812</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">813</td>
<td class="src"><pre><code class="objc">    /// Sets the cached response handler for the `Request` which will be used when attempting to cache a response.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">814</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">815</td>
<td class="src"><pre><code class="objc">    /// - Note: Attempting to set the cache handler more than once is a logic error and will crash.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">816</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">817</td>
<td class="src"><pre><code class="objc">    /// - Parameter handler: The `CachedResponseHandler`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">818</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">819</td>
<td class="src"><pre><code class="objc">    /// - Returns:           The instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">820</td>
<td class="src"><pre><code class="objc">    @discardableResult</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">821</td>
<td class="src"><pre><code class="objc">    public func cacheResponse(using handler: CachedResponseHandler) -&gt; Self {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">822</td>
<td class="src"><pre><code class="objc">        $mutableState.write { mutableState in</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">823</td>
<td class="src"><pre><code class="objc">            precondition(mutableState.cachedResponseHandler == nil, "Cached response handler has already been set.")</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">824</td>
<td class="src"><pre><code class="objc">            mutableState.cachedResponseHandler = handler</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">825</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">826</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">827</td>
<td class="src"><pre><code class="objc">        return self</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">828</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">829</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">830</td>
<td class="src"><pre><code class="objc">    // MARK: - Lifetime APIs</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">831</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">832</td>
<td class="src"><pre><code class="objc">    /// Sets a handler to be called when the cURL description of the request is available.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">833</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">834</td>
<td class="src"><pre><code class="objc">    /// - Note: When waiting for a `Request`'s `URLRequest` to be created, only the last `handler` will be called.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">835</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">836</td>
<td class="src"><pre><code class="objc">    /// - Parameters:</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">837</td>
<td class="src"><pre><code class="objc">    ///   - queue:   `DispatchQueue` on which `handler` will be called.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">838</td>
<td class="src"><pre><code class="objc">    ///   - handler: Closure to be called when the cURL description is available.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">839</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">840</td>
<td class="src"><pre><code class="objc">    /// - Returns:           The instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">841</td>
<td class="src"><pre><code class="objc">    @discardableResult</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">842</td>
<td class="src"><pre><code class="objc">    public func cURLDescription(on queue: DispatchQueue, calling handler: @escaping (String) -&gt; Void) -&gt; Self {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">843</td>
<td class="src"><pre><code class="objc">        $mutableState.write { mutableState in</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">844</td>
<td class="src"><pre><code class="objc">            if mutableState.requests.last != nil {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">845</td>
<td class="src"><pre><code class="objc">                queue.async { handler(self.cURLDescription()) }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">846</td>
<td class="src"><pre><code class="objc">            } else {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">847</td>
<td class="src"><pre><code class="objc">                mutableState.cURLHandler = (queue, handler)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">848</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">849</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">850</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">851</td>
<td class="src"><pre><code class="objc">        return self</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">852</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">853</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">854</td>
<td class="src"><pre><code class="objc">    /// Sets a handler to be called when the cURL description of the request is available.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">855</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">856</td>
<td class="src"><pre><code class="objc">    /// - Note: When waiting for a `Request`'s `URLRequest` to be created, only the last `handler` will be called.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">857</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">858</td>
<td class="src"><pre><code class="objc">    /// - Parameter handler: Closure to be called when the cURL description is available. Called on the instance's</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">859</td>
<td class="src"><pre><code class="objc">    ///                      `underlyingQueue` by default.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">860</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">861</td>
<td class="src"><pre><code class="objc">    /// - Returns:           The instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">862</td>
<td class="src"><pre><code class="objc">    @discardableResult</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">863</td>
<td class="src"><pre><code class="objc">    public func cURLDescription(calling handler: @escaping (String) -&gt; Void) -&gt; Self {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">864</td>
<td class="src"><pre><code class="objc">        $mutableState.write { mutableState in</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">865</td>
<td class="src"><pre><code class="objc">            if mutableState.requests.last != nil {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">866</td>
<td class="src"><pre><code class="objc">                underlyingQueue.async { handler(self.cURLDescription()) }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">867</td>
<td class="src"><pre><code class="objc">            } else {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">868</td>
<td class="src"><pre><code class="objc">                mutableState.cURLHandler = (underlyingQueue, handler)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">869</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">870</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">871</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">872</td>
<td class="src"><pre><code class="objc">        return self</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">873</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">874</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">875</td>
<td class="src"><pre><code class="objc">    /// Sets a closure to called whenever Alamofire creates a `URLRequest` for this instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">876</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">877</td>
<td class="src"><pre><code class="objc">    /// - Note: This closure will be called multiple times if the instance adapts incoming `URLRequest`s or is retried.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">878</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">879</td>
<td class="src"><pre><code class="objc">    /// - Parameters:</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">880</td>
<td class="src"><pre><code class="objc">    ///   - queue:   `DispatchQueue` on which `handler` will be called. `.main` by default.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">881</td>
<td class="src"><pre><code class="objc">    ///   - handler: Closure to be called when a `URLRequest` is available.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">882</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">883</td>
<td class="src"><pre><code class="objc">    /// - Returns:   The instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">884</td>
<td class="src"><pre><code class="objc">    @discardableResult</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">885</td>
<td class="src"><pre><code class="objc">    public func onURLRequestCreation(on queue: DispatchQueue = .main, perform handler: @escaping (URLRequest) -&gt; Void) -&gt; Self {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">886</td>
<td class="src"><pre><code class="objc">        $mutableState.write { state in</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">887</td>
<td class="src"><pre><code class="objc">            if let request = state.requests.last {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">888</td>
<td class="src"><pre><code class="objc">                queue.async { handler(request) }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">889</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">890</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">891</td>
<td class="src"><pre><code class="objc">            state.urlRequestHandler = (queue, handler)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">892</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">893</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">894</td>
<td class="src"><pre><code class="objc">        return self</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">895</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">896</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">897</td>
<td class="src"><pre><code class="objc">    /// Sets a closure to be called whenever the instance creates a `URLSessionTask`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">898</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">899</td>
<td class="src"><pre><code class="objc">    /// - Note: This API should only be used to provide `URLSessionTask`s to existing API, like `NSFileProvider`. It</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">900</td>
<td class="src"><pre><code class="objc">    ///         **SHOULD NOT** be used to interact with tasks directly, as that may be break Alamofire features.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">901</td>
<td class="src"><pre><code class="objc">    ///         Additionally, this closure may be called multiple times if the instance is retried.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">902</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">903</td>
<td class="src"><pre><code class="objc">    /// - Parameters:</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">904</td>
<td class="src"><pre><code class="objc">    ///   - queue:   `DispatchQueue` on which `handler` will be called. `.main` by default.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">905</td>
<td class="src"><pre><code class="objc">    ///   - handler: Closure to be called when the `URLSessionTask` is available.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">906</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">907</td>
<td class="src"><pre><code class="objc">    /// - Returns:   The instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">908</td>
<td class="src"><pre><code class="objc">    @discardableResult</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">909</td>
<td class="src"><pre><code class="objc">    public func onURLSessionTaskCreation(on queue: DispatchQueue = .main, perform handler: @escaping (URLSessionTask) -&gt; Void) -&gt; Self {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">910</td>
<td class="src"><pre><code class="objc">        $mutableState.write { state in</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">911</td>
<td class="src"><pre><code class="objc">            if let task = state.tasks.last {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">912</td>
<td class="src"><pre><code class="objc">                queue.async { handler(task) }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">913</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">914</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">915</td>
<td class="src"><pre><code class="objc">            state.urlSessionTaskHandler = (queue, handler)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">916</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">917</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">918</td>
<td class="src"><pre><code class="objc">        return self</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">919</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">920</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">921</td>
<td class="src"><pre><code class="objc">    // MARK: Cleanup</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">922</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">923</td>
<td class="src"><pre><code class="objc">    /// Final cleanup step executed when the instance finishes response serialization.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">924</td>
<td class="src"><pre><code class="objc">    func cleanup() {</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">925</td>
<td class="src"><pre><code class="objc">        delegate?.cleanup(after: self)</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">926</td>
<td class="src"><pre><code class="objc">        // No-op: override in subclass</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">927</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">928</td>
<td class="src"><pre><code class="objc">}</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">929</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">930</td>
<td class="src"><pre><code class="objc">// MARK: - Protocol Conformances</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">931</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">932</td>
<td class="src"><pre><code class="objc">extension Request: Equatable {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">933</td>
<td class="src"><pre><code class="objc">    public static func ==(lhs: Request, rhs: Request) -&gt; Bool {</code></pre></td>
<td class="coverage">50x</td>
</tr>
<tr class="covered">
<td class="num">934</td>
<td class="src"><pre><code class="objc">        lhs.id == rhs.id</code></pre></td>
<td class="coverage">50x</td>
</tr>
<tr class="covered">
<td class="num">935</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">50x</td>
</tr>
<tr class="never">
<td class="num">936</td>
<td class="src"><pre><code class="objc">}</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">937</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">938</td>
<td class="src"><pre><code class="objc">extension Request: Hashable {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">939</td>
<td class="src"><pre><code class="objc">    public func hash(into hasher: inout Hasher) {</code></pre></td>
<td class="coverage">148x</td>
</tr>
<tr class="covered">
<td class="num">940</td>
<td class="src"><pre><code class="objc">        hasher.combine(id)</code></pre></td>
<td class="coverage">148x</td>
</tr>
<tr class="covered">
<td class="num">941</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">148x</td>
</tr>
<tr class="never">
<td class="num">942</td>
<td class="src"><pre><code class="objc">}</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">943</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">944</td>
<td class="src"><pre><code class="objc">extension Request: CustomStringConvertible {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">945</td>
<td class="src"><pre><code class="objc">    /// A textual representation of this instance, including the `HTTPMethod` and `URL` if the `URLRequest` has been</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">946</td>
<td class="src"><pre><code class="objc">    /// created, as well as the response status code, if a response has been received.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">947</td>
<td class="src"><pre><code class="objc">    public var description: String {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">948</td>
<td class="src"><pre><code class="objc">        guard let request = performedRequests.last ?? lastRequest,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">949</td>
<td class="src"><pre><code class="objc">              let url = request.url,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">950</td>
<td class="src"><pre><code class="objc">              let method = request.httpMethod else { return "No request created yet." }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">951</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">952</td>
<td class="src"><pre><code class="objc">        let requestDescription = "\(method) \(url.absoluteString)"</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">953</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">954</td>
<td class="src"><pre><code class="objc">        return response.map { "\(requestDescription) (\($0.statusCode))" } ?? requestDescription</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">955</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">956</td>
<td class="src"><pre><code class="objc">}</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">957</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">958</td>
<td class="src"><pre><code class="objc">extension Request {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">959</td>
<td class="src"><pre><code class="objc">    /// cURL representation of the instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">960</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">961</td>
<td class="src"><pre><code class="objc">    /// - Returns: The cURL equivalent of the instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">962</td>
<td class="src"><pre><code class="objc">    public func cURLDescription() -&gt; String {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">963</td>
<td class="src"><pre><code class="objc">        guard</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">964</td>
<td class="src"><pre><code class="objc">            let request = lastRequest,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">965</td>
<td class="src"><pre><code class="objc">            let url = request.url,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">966</td>
<td class="src"><pre><code class="objc">            let host = url.host,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">967</td>
<td class="src"><pre><code class="objc">            let method = request.httpMethod else { return "$ curl command could not be created" }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">968</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">969</td>
<td class="src"><pre><code class="objc">        var components = ["$ curl -v"]</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">970</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">971</td>
<td class="src"><pre><code class="objc">        components.append("-X \(method)")</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">972</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">973</td>
<td class="src"><pre><code class="objc">        if let credentialStorage = delegate?.sessionConfiguration.urlCredentialStorage {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">974</td>
<td class="src"><pre><code class="objc">            let protectionSpace = URLProtectionSpace(host: host,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">975</td>
<td class="src"><pre><code class="objc">                                                     port: url.port ?? 0,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">976</td>
<td class="src"><pre><code class="objc">                                                     protocol: url.scheme,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">977</td>
<td class="src"><pre><code class="objc">                                                     realm: host,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">978</td>
<td class="src"><pre><code class="objc">                                                     authenticationMethod: NSURLAuthenticationMethodHTTPBasic)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">979</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">980</td>
<td class="src"><pre><code class="objc">            if let credentials = credentialStorage.credentials(for: protectionSpace)?.values {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">981</td>
<td class="src"><pre><code class="objc">                for credential in credentials {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">982</td>
<td class="src"><pre><code class="objc">                    guard let user = credential.user, let password = credential.password else { continue }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">983</td>
<td class="src"><pre><code class="objc">                    components.append("-u \(user):\(password)")</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">984</td>
<td class="src"><pre><code class="objc">                }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">985</td>
<td class="src"><pre><code class="objc">            } else {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">986</td>
<td class="src"><pre><code class="objc">                if let credential = credential, let user = credential.user, let password = credential.password {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">987</td>
<td class="src"><pre><code class="objc">                    components.append("-u \(user):\(password)")</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">988</td>
<td class="src"><pre><code class="objc">                }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">989</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">990</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">991</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">992</td>
<td class="src"><pre><code class="objc">        if let configuration = delegate?.sessionConfiguration, configuration.httpShouldSetCookies {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">993</td>
<td class="src"><pre><code class="objc">            if</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">994</td>
<td class="src"><pre><code class="objc">                let cookieStorage = configuration.httpCookieStorage,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">995</td>
<td class="src"><pre><code class="objc">                let cookies = cookieStorage.cookies(for: url), !cookies.isEmpty {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">996</td>
<td class="src"><pre><code class="objc">                let allCookies = cookies.map { "\($0.name)=\($0.value)" }.joined(separator: ";")</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">997</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">998</td>
<td class="src"><pre><code class="objc">                components.append("-b \"\(allCookies)\"")</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">999</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1000</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1001</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1002</td>
<td class="src"><pre><code class="objc">        var headers = HTTPHeaders()</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1003</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1004</td>
<td class="src"><pre><code class="objc">        if let sessionHeaders = delegate?.sessionConfiguration.headers {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1005</td>
<td class="src"><pre><code class="objc">            for header in sessionHeaders where header.name != "Cookie" {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1006</td>
<td class="src"><pre><code class="objc">                headers[header.name] = header.value</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1007</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1008</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1009</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1010</td>
<td class="src"><pre><code class="objc">        for header in request.headers where header.name != "Cookie" {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1011</td>
<td class="src"><pre><code class="objc">            headers[header.name] = header.value</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1012</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1013</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1014</td>
<td class="src"><pre><code class="objc">        for header in headers {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1015</td>
<td class="src"><pre><code class="objc">            let escapedValue = header.value.replacingOccurrences(of: "\"", with: "\\\"")</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1016</td>
<td class="src"><pre><code class="objc">            components.append("-H \"\(header.name): \(escapedValue)\"")</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1017</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1018</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1019</td>
<td class="src"><pre><code class="objc">        if let httpBodyData = request.httpBody {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1020</td>
<td class="src"><pre><code class="objc">            let httpBody = String(decoding: httpBodyData, as: UTF8.self)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1021</td>
<td class="src"><pre><code class="objc">            var escapedBody = httpBody.replacingOccurrences(of: "\\\"", with: "\\\\\"")</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1022</td>
<td class="src"><pre><code class="objc">            escapedBody = escapedBody.replacingOccurrences(of: "\"", with: "\\\"")</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1023</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1024</td>
<td class="src"><pre><code class="objc">            components.append("-d \"\(escapedBody)\"")</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1025</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1026</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1027</td>
<td class="src"><pre><code class="objc">        components.append("\"\(url.absoluteString)\"")</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1028</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1029</td>
<td class="src"><pre><code class="objc">        return components.joined(separator: " \\\n\t")</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1030</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1031</td>
<td class="src"><pre><code class="objc">}</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1032</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1033</td>
<td class="src"><pre><code class="objc">/// Protocol abstraction for `Request`'s communication back to the `SessionDelegate`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1034</td>
<td class="src"><pre><code class="objc">public protocol RequestDelegate: AnyObject {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1035</td>
<td class="src"><pre><code class="objc">    /// `URLSessionConfiguration` used to create the underlying `URLSessionTask`s.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1036</td>
<td class="src"><pre><code class="objc">    var sessionConfiguration: URLSessionConfiguration { get }</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1037</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1038</td>
<td class="src"><pre><code class="objc">    /// Determines whether the `Request` should automatically call `resume()` when adding the first response handler.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1039</td>
<td class="src"><pre><code class="objc">    var startImmediately: Bool { get }</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1040</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1041</td>
<td class="src"><pre><code class="objc">    /// Notifies the delegate the `Request` has reached a point where it needs cleanup.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1042</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1043</td>
<td class="src"><pre><code class="objc">    /// - Parameter request: The `Request` to cleanup after.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1044</td>
<td class="src"><pre><code class="objc">    func cleanup(after request: Request)</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1045</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1046</td>
<td class="src"><pre><code class="objc">    /// Asynchronously ask the delegate whether a `Request` will be retried.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1047</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1048</td>
<td class="src"><pre><code class="objc">    /// - Parameters:</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1049</td>
<td class="src"><pre><code class="objc">    ///   - request:    `Request` which failed.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1050</td>
<td class="src"><pre><code class="objc">    ///   - error:      `Error` which produced the failure.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1051</td>
<td class="src"><pre><code class="objc">    ///   - completion: Closure taking the `RetryResult` for evaluation.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1052</td>
<td class="src"><pre><code class="objc">    func retryResult(for request: Request, dueTo error: AFError, completion: @escaping (RetryResult) -&gt; Void)</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1053</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1054</td>
<td class="src"><pre><code class="objc">    /// Asynchronously retry the `Request`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1055</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1056</td>
<td class="src"><pre><code class="objc">    /// - Parameters:</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1057</td>
<td class="src"><pre><code class="objc">    ///   - request:   `Request` which will be retried.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1058</td>
<td class="src"><pre><code class="objc">    ///   - timeDelay: `TimeInterval` after which the retry will be triggered.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1059</td>
<td class="src"><pre><code class="objc">    func retryRequest(_ request: Request, withDelay timeDelay: TimeInterval?)</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1060</td>
<td class="src"><pre><code class="objc">}</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1061</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1062</td>
<td class="src"><pre><code class="objc">// MARK: - Subclasses</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1063</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1064</td>
<td class="src"><pre><code class="objc">// MARK: - DataRequest</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1065</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1066</td>
<td class="src"><pre><code class="objc">/// `Request` subclass which handles in-memory `Data` download using `URLSessionDataTask`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1067</td>
<td class="src"><pre><code class="objc">public class DataRequest: Request {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1068</td>
<td class="src"><pre><code class="objc">    /// `URLRequestConvertible` value used to create `URLRequest`s for this instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1069</td>
<td class="src"><pre><code class="objc">    public let convertible: URLRequestConvertible</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1070</td>
<td class="src"><pre><code class="objc">    /// `Data` read from the server so far.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">1071</td>
<td class="src"><pre><code class="objc">    public var data: Data? { mutableData }</code></pre></td>
<td class="coverage">88x</td>
</tr>
<tr class="never">
<td class="num">1072</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1073</td>
<td class="src"><pre><code class="objc">    /// Protected storage for the `Data` read by the instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1074</td>
<td class="src"><pre><code class="objc">    @Protected</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1075</td>
<td class="src"><pre><code class="objc">    private var mutableData: Data? = nil</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1076</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1077</td>
<td class="src"><pre><code class="objc">    /// Creates a `DataRequest` using the provided parameters.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1078</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1079</td>
<td class="src"><pre><code class="objc">    /// - Parameters:</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1080</td>
<td class="src"><pre><code class="objc">    ///   - id:                 `UUID` used for the `Hashable` and `Equatable` implementations. `UUID()` by default.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1081</td>
<td class="src"><pre><code class="objc">    ///   - convertible:        `URLRequestConvertible` value used to create `URLRequest`s for this instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1082</td>
<td class="src"><pre><code class="objc">    ///   - underlyingQueue:    `DispatchQueue` on which all internal `Request` work is performed.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1083</td>
<td class="src"><pre><code class="objc">    ///   - serializationQueue: `DispatchQueue` on which all serialization work is performed. By default targets</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1084</td>
<td class="src"><pre><code class="objc">    ///                         `underlyingQueue`, but can be passed another queue from a `Session`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1085</td>
<td class="src"><pre><code class="objc">    ///   - eventMonitor:       `EventMonitor` called for event callbacks from internal `Request` actions.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1086</td>
<td class="src"><pre><code class="objc">    ///   - interceptor:        `RequestInterceptor` used throughout the request lifecycle.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1087</td>
<td class="src"><pre><code class="objc">    ///   - delegate:           `RequestDelegate` that provides an interface to actions not performed by the `Request`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1088</td>
<td class="src"><pre><code class="objc">    init(id: UUID = UUID(),</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1089</td>
<td class="src"><pre><code class="objc">         convertible: URLRequestConvertible,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1090</td>
<td class="src"><pre><code class="objc">         underlyingQueue: DispatchQueue,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1091</td>
<td class="src"><pre><code class="objc">         serializationQueue: DispatchQueue,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1092</td>
<td class="src"><pre><code class="objc">         eventMonitor: EventMonitor?,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1093</td>
<td class="src"><pre><code class="objc">         interceptor: RequestInterceptor?,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">1094</td>
<td class="src"><pre><code class="objc">         delegate: RequestDelegate) {</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">1095</td>
<td class="src"><pre><code class="objc">        self.convertible = convertible</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">1096</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">1097</td>
<td class="src"><pre><code class="objc">        super.init(id: id,</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">1098</td>
<td class="src"><pre><code class="objc">                   underlyingQueue: underlyingQueue,</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">1099</td>
<td class="src"><pre><code class="objc">                   serializationQueue: serializationQueue,</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">1100</td>
<td class="src"><pre><code class="objc">                   eventMonitor: eventMonitor,</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">1101</td>
<td class="src"><pre><code class="objc">                   interceptor: interceptor,</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">1102</td>
<td class="src"><pre><code class="objc">                   delegate: delegate)</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">1103</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">1104</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1105</td>
<td class="src"><pre><code class="objc">    override func reset() {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1106</td>
<td class="src"><pre><code class="objc">        super.reset()</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1107</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1108</td>
<td class="src"><pre><code class="objc">        mutableData = nil</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1109</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1110</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1111</td>
<td class="src"><pre><code class="objc">    /// Called when `Data` is received by this instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1112</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1113</td>
<td class="src"><pre><code class="objc">    /// - Note: Also calls `updateDownloadProgress`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1114</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1115</td>
<td class="src"><pre><code class="objc">    /// - Parameter data: The `Data` received.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">1116</td>
<td class="src"><pre><code class="objc">    func didReceive(data: Data) {</code></pre></td>
<td class="coverage">19x</td>
</tr>
<tr class="covered">
<td class="num">1117</td>
<td class="src"><pre><code class="objc">        if self.data == nil {</code></pre></td>
<td class="coverage">19x</td>
</tr>
<tr class="covered">
<td class="num">1118</td>
<td class="src"><pre><code class="objc">            mutableData = data</code></pre></td>
<td class="coverage">19x</td>
</tr>
<tr class="covered">
<td class="num">1119</td>
<td class="src"><pre><code class="objc">        } else {</code></pre></td>
<td class="coverage">19x</td>
</tr>
<tr class="missed">
<td class="num">1120</td>
<td class="src"><pre><code class="objc">            $mutableData.write { $0?.append(data) }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="covered">
<td class="num">1121</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">19x</td>
</tr>
<tr class="covered">
<td class="num">1122</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">19x</td>
</tr>
<tr class="covered">
<td class="num">1123</td>
<td class="src"><pre><code class="objc">        updateDownloadProgress()</code></pre></td>
<td class="coverage">19x</td>
</tr>
<tr class="covered">
<td class="num">1124</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">19x</td>
</tr>
<tr class="never">
<td class="num">1125</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">1126</td>
<td class="src"><pre><code class="objc">    override func task(for request: URLRequest, using session: URLSession) -&gt; URLSessionTask {</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">1127</td>
<td class="src"><pre><code class="objc">        let copiedRequest = request</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">1128</td>
<td class="src"><pre><code class="objc">        return session.dataTask(with: copiedRequest)</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="covered">
<td class="num">1129</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">25x</td>
</tr>
<tr class="never">
<td class="num">1130</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1131</td>
<td class="src"><pre><code class="objc">    /// Called to updated the `downloadProgress` of the instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="covered">
<td class="num">1132</td>
<td class="src"><pre><code class="objc">    func updateDownloadProgress() {</code></pre></td>
<td class="coverage">19x</td>
</tr>
<tr class="covered">
<td class="num">1133</td>
<td class="src"><pre><code class="objc">        let totalBytesReceived = Int64(data?.count ?? </code><code class="objc missed">0</code><code class="objc">)</code></pre></td>
<td class="coverage">19x</td>
</tr>
<tr class="covered">
<td class="num">1134</td>
<td class="src"><pre><code class="objc">        let totalBytesExpected = task?.response?.expectedContentLength ?? NSURLSessionTransferSizeUnknown</code></pre></td>
<td class="coverage">19x</td>
</tr>
<tr class="covered">
<td class="num">1135</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">19x</td>
</tr>
<tr class="covered">
<td class="num">1136</td>
<td class="src"><pre><code class="objc">        downloadProgress.totalUnitCount = totalBytesExpected</code></pre></td>
<td class="coverage">19x</td>
</tr>
<tr class="covered">
<td class="num">1137</td>
<td class="src"><pre><code class="objc">        downloadProgress.completedUnitCount = totalBytesReceived</code></pre></td>
<td class="coverage">19x</td>
</tr>
<tr class="covered">
<td class="num">1138</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">19x</td>
</tr>
<tr class="covered">
<td class="num">1139</td>
<td class="src"><pre><code class="objc">        downloadProgressHandler?.queue.async </code><code class="objc missed">{ self.downloadProgressHandler?.handler(self.downloadProgress) }</code><code class="objc"></code></pre></td>
<td class="coverage">19x</td>
</tr>
<tr class="covered">
<td class="num">1140</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">19x</td>
</tr>
<tr class="never">
<td class="num">1141</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1142</td>
<td class="src"><pre><code class="objc">    /// Validates the request, using the specified closure.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1143</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1144</td>
<td class="src"><pre><code class="objc">    /// - Note: If validation fails, subsequent calls to response handlers will have an associated error.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1145</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1146</td>
<td class="src"><pre><code class="objc">    /// - Parameter validation: `Validation` closure used to validate the response.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1147</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1148</td>
<td class="src"><pre><code class="objc">    /// - Returns:              The instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1149</td>
<td class="src"><pre><code class="objc">    @discardableResult</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1150</td>
<td class="src"><pre><code class="objc">    public func validate(_ validation: @escaping Validation) -&gt; Self {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1151</td>
<td class="src"><pre><code class="objc">        let validator: () -&gt; Void = { [unowned self] in</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1152</td>
<td class="src"><pre><code class="objc">            guard self.error == nil, let response = self.response else { return }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1153</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1154</td>
<td class="src"><pre><code class="objc">            let result = validation(self.request, response, self.data)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1155</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1156</td>
<td class="src"><pre><code class="objc">            if case let .failure(error) = result { self.error = error.asAFError(or: .responseValidationFailed(reason: .customValidationFailed(error: error))) }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1157</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1158</td>
<td class="src"><pre><code class="objc">            self.eventMonitor?.request(self,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1159</td>
<td class="src"><pre><code class="objc">                                       didValidateRequest: self.request,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1160</td>
<td class="src"><pre><code class="objc">                                       response: response,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1161</td>
<td class="src"><pre><code class="objc">                                       data: self.data,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1162</td>
<td class="src"><pre><code class="objc">                                       withResult: result)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1163</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1164</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1165</td>
<td class="src"><pre><code class="objc">        $validators.write { $0.append(validator) }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1166</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1167</td>
<td class="src"><pre><code class="objc">        return self</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1168</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1169</td>
<td class="src"><pre><code class="objc">}</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1170</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1171</td>
<td class="src"><pre><code class="objc">// MARK: - DataStreamRequest</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1172</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1173</td>
<td class="src"><pre><code class="objc">/// `Request` subclass which streams HTTP response `Data` through a `Handler` closure.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1174</td>
<td class="src"><pre><code class="objc">public final class DataStreamRequest: Request {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1175</td>
<td class="src"><pre><code class="objc">    /// Closure type handling `DataStreamRequest.Stream` values.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1176</td>
<td class="src"><pre><code class="objc">    public typealias Handler&lt;Success, Failure: Error&gt; = (Stream&lt;Success, Failure&gt;) throws -&gt; Void</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1177</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1178</td>
<td class="src"><pre><code class="objc">    /// Type encapsulating an `Event` as it flows through the stream, as well as a `CancellationToken` which can be used</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1179</td>
<td class="src"><pre><code class="objc">    /// to stop the stream at any time.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1180</td>
<td class="src"><pre><code class="objc">    public struct Stream&lt;Success, Failure: Error&gt; {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1181</td>
<td class="src"><pre><code class="objc">        /// Latest `Event` from the stream.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1182</td>
<td class="src"><pre><code class="objc">        public let event: Event&lt;Success, Failure&gt;</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1183</td>
<td class="src"><pre><code class="objc">        /// Token used to cancel the stream.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1184</td>
<td class="src"><pre><code class="objc">        public let token: CancellationToken</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1185</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1186</td>
<td class="src"><pre><code class="objc">        /// Cancel the ongoing stream by canceling the underlying `DataStreamRequest`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1187</td>
<td class="src"><pre><code class="objc">        public func cancel() {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1188</td>
<td class="src"><pre><code class="objc">            token.cancel()</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1189</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1190</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1191</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1192</td>
<td class="src"><pre><code class="objc">    /// Type representing an event flowing through the stream. Contains either the `Result` of processing streamed</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1193</td>
<td class="src"><pre><code class="objc">    /// `Data` or the completion of the stream.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1194</td>
<td class="src"><pre><code class="objc">    public enum Event&lt;Success, Failure: Error&gt; {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1195</td>
<td class="src"><pre><code class="objc">        /// Output produced every time the instance receives additional `Data`. The associated value contains the</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1196</td>
<td class="src"><pre><code class="objc">        /// `Result` of processing the incoming `Data`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1197</td>
<td class="src"><pre><code class="objc">        case stream(Result&lt;Success, Failure&gt;)</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1198</td>
<td class="src"><pre><code class="objc">        /// Output produced when the instance has completed, whether due to stream end, cancellation, or an error.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1199</td>
<td class="src"><pre><code class="objc">        /// Associated `Completion` value contains the final state.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1200</td>
<td class="src"><pre><code class="objc">        case complete(Completion)</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1201</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1202</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1203</td>
<td class="src"><pre><code class="objc">    /// Value containing the state of a `DataStreamRequest` when the stream was completed.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1204</td>
<td class="src"><pre><code class="objc">    public struct Completion {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1205</td>
<td class="src"><pre><code class="objc">        /// Last `URLRequest` issued by the instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1206</td>
<td class="src"><pre><code class="objc">        public let request: URLRequest?</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1207</td>
<td class="src"><pre><code class="objc">        /// Last `HTTPURLResponse` received by the instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1208</td>
<td class="src"><pre><code class="objc">        public let response: HTTPURLResponse?</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1209</td>
<td class="src"><pre><code class="objc">        /// Last `URLSessionTaskMetrics` produced for the instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1210</td>
<td class="src"><pre><code class="objc">        public let metrics: URLSessionTaskMetrics?</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1211</td>
<td class="src"><pre><code class="objc">        /// `AFError` produced for the instance, if any.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1212</td>
<td class="src"><pre><code class="objc">        public let error: AFError?</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1213</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1214</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1215</td>
<td class="src"><pre><code class="objc">    /// Type used to cancel an ongoing stream.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1216</td>
<td class="src"><pre><code class="objc">    public struct CancellationToken {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1217</td>
<td class="src"><pre><code class="objc">        weak var request: DataStreamRequest?</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1218</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1219</td>
<td class="src"><pre><code class="objc">        init(_ request: DataStreamRequest) {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1220</td>
<td class="src"><pre><code class="objc">            self.request = request</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1221</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1222</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1223</td>
<td class="src"><pre><code class="objc">        /// Cancel the ongoing stream by canceling the underlying `DataStreamRequest`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1224</td>
<td class="src"><pre><code class="objc">        public func cancel() {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1225</td>
<td class="src"><pre><code class="objc">            request?.cancel()</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1226</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1227</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1228</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1229</td>
<td class="src"><pre><code class="objc">    /// `URLRequestConvertible` value used to create `URLRequest`s for this instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1230</td>
<td class="src"><pre><code class="objc">    public let convertible: URLRequestConvertible</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1231</td>
<td class="src"><pre><code class="objc">    /// Whether or not the instance will be cancelled if stream parsing encounters an error.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1232</td>
<td class="src"><pre><code class="objc">    public let automaticallyCancelOnStreamError: Bool</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1233</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1234</td>
<td class="src"><pre><code class="objc">    /// Internal mutable state specific to this type.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1235</td>
<td class="src"><pre><code class="objc">    struct StreamMutableState {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1236</td>
<td class="src"><pre><code class="objc">        /// `OutputStream` bound to the `InputStream` produced by `asInputStream`, if it has been called.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1237</td>
<td class="src"><pre><code class="objc">        var outputStream: OutputStream?</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1238</td>
<td class="src"><pre><code class="objc">        /// Stream closures called as `Data` is received.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1239</td>
<td class="src"><pre><code class="objc">        var streams: [(_ data: Data) -&gt; Void] = []</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1240</td>
<td class="src"><pre><code class="objc">        /// Number of currently executing streams. Used to ensure completions are only fired after all streams are</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1241</td>
<td class="src"><pre><code class="objc">        /// enqueued.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1242</td>
<td class="src"><pre><code class="objc">        var numberOfExecutingStreams = 0</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1243</td>
<td class="src"><pre><code class="objc">        /// Completion calls enqueued while streams are still executing.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1244</td>
<td class="src"><pre><code class="objc">        var enqueuedCompletionEvents: [() -&gt; Void] = []</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1245</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1246</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1247</td>
<td class="src"><pre><code class="objc">    @Protected</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1248</td>
<td class="src"><pre><code class="objc">    var streamMutableState = StreamMutableState()</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1249</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1250</td>
<td class="src"><pre><code class="objc">    /// Creates a `DataStreamRequest` using the provided parameters.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1251</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1252</td>
<td class="src"><pre><code class="objc">    /// - Parameters:</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1253</td>
<td class="src"><pre><code class="objc">    ///   - id:                               `UUID` used for the `Hashable` and `Equatable` implementations. `UUID()`</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1254</td>
<td class="src"><pre><code class="objc">    ///                                        by default.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1255</td>
<td class="src"><pre><code class="objc">    ///   - convertible:                      `URLRequestConvertible` value used to create `URLRequest`s for this</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1256</td>
<td class="src"><pre><code class="objc">    ///                                        instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1257</td>
<td class="src"><pre><code class="objc">    ///   - automaticallyCancelOnStreamError: `Bool` indicating whether the instance will be cancelled when an `Error`</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1258</td>
<td class="src"><pre><code class="objc">    ///                                       is thrown while serializing stream `Data`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1259</td>
<td class="src"><pre><code class="objc">    ///   - underlyingQueue:                  `DispatchQueue` on which all internal `Request` work is performed.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1260</td>
<td class="src"><pre><code class="objc">    ///   - serializationQueue:               `DispatchQueue` on which all serialization work is performed. By default</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1261</td>
<td class="src"><pre><code class="objc">    ///                                       targets</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1262</td>
<td class="src"><pre><code class="objc">    ///                                       `underlyingQueue`, but can be passed another queue from a `Session`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1263</td>
<td class="src"><pre><code class="objc">    ///   - eventMonitor:                     `EventMonitor` called for event callbacks from internal `Request` actions.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1264</td>
<td class="src"><pre><code class="objc">    ///   - interceptor:                      `RequestInterceptor` used throughout the request lifecycle.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1265</td>
<td class="src"><pre><code class="objc">    ///   - delegate:                         `RequestDelegate` that provides an interface to actions not performed by</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1266</td>
<td class="src"><pre><code class="objc">    ///                                       the `Request`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1267</td>
<td class="src"><pre><code class="objc">    init(id: UUID = UUID(),</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1268</td>
<td class="src"><pre><code class="objc">         convertible: URLRequestConvertible,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1269</td>
<td class="src"><pre><code class="objc">         automaticallyCancelOnStreamError: Bool,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1270</td>
<td class="src"><pre><code class="objc">         underlyingQueue: DispatchQueue,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1271</td>
<td class="src"><pre><code class="objc">         serializationQueue: DispatchQueue,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1272</td>
<td class="src"><pre><code class="objc">         eventMonitor: EventMonitor?,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1273</td>
<td class="src"><pre><code class="objc">         interceptor: RequestInterceptor?,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1274</td>
<td class="src"><pre><code class="objc">         delegate: RequestDelegate) {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1275</td>
<td class="src"><pre><code class="objc">        self.convertible = convertible</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1276</td>
<td class="src"><pre><code class="objc">        self.automaticallyCancelOnStreamError = automaticallyCancelOnStreamError</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1277</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1278</td>
<td class="src"><pre><code class="objc">        super.init(id: id,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1279</td>
<td class="src"><pre><code class="objc">                   underlyingQueue: underlyingQueue,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1280</td>
<td class="src"><pre><code class="objc">                   serializationQueue: serializationQueue,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1281</td>
<td class="src"><pre><code class="objc">                   eventMonitor: eventMonitor,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1282</td>
<td class="src"><pre><code class="objc">                   interceptor: interceptor,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1283</td>
<td class="src"><pre><code class="objc">                   delegate: delegate)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1284</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1285</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1286</td>
<td class="src"><pre><code class="objc">    override func task(for request: URLRequest, using session: URLSession) -&gt; URLSessionTask {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1287</td>
<td class="src"><pre><code class="objc">        let copiedRequest = request</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1288</td>
<td class="src"><pre><code class="objc">        return session.dataTask(with: copiedRequest)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1289</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1290</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1291</td>
<td class="src"><pre><code class="objc">    override func finish(error: AFError? = nil) {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1292</td>
<td class="src"><pre><code class="objc">        $streamMutableState.write { state in</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1293</td>
<td class="src"><pre><code class="objc">            state.outputStream?.close()</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1294</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1295</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1296</td>
<td class="src"><pre><code class="objc">        super.finish(error: error)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1297</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1298</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1299</td>
<td class="src"><pre><code class="objc">    func didReceive(data: Data) {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1300</td>
<td class="src"><pre><code class="objc">        $streamMutableState.write { state in</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1301</td>
<td class="src"><pre><code class="objc">            if let stream = state.outputStream {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1302</td>
<td class="src"><pre><code class="objc">                underlyingQueue.async {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1303</td>
<td class="src"><pre><code class="objc">                    var bytes = Array(data)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1304</td>
<td class="src"><pre><code class="objc">                    stream.write(&amp;bytes, maxLength: bytes.count)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1305</td>
<td class="src"><pre><code class="objc">                }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1306</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1307</td>
<td class="src"><pre><code class="objc">            state.numberOfExecutingStreams += state.streams.count</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1308</td>
<td class="src"><pre><code class="objc">            let localState = state</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1309</td>
<td class="src"><pre><code class="objc">            underlyingQueue.async { localState.streams.forEach { $0(data) } }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1310</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1311</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1312</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1313</td>
<td class="src"><pre><code class="objc">    /// Validates the `URLRequest` and `HTTPURLResponse` received for the instance using the provided `Validation` closure.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1314</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1315</td>
<td class="src"><pre><code class="objc">    /// - Parameter validation: `Validation` closure used to validate the request and response.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1316</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1317</td>
<td class="src"><pre><code class="objc">    /// - Returns:              The `DataStreamRequest`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1318</td>
<td class="src"><pre><code class="objc">    @discardableResult</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1319</td>
<td class="src"><pre><code class="objc">    public func validate(_ validation: @escaping Validation) -&gt; Self {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1320</td>
<td class="src"><pre><code class="objc">        let validator: () -&gt; Void = { [unowned self] in</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1321</td>
<td class="src"><pre><code class="objc">            guard self.error == nil, let response = self.response else { return }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1322</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1323</td>
<td class="src"><pre><code class="objc">            let result = validation(self.request, response)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1324</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1325</td>
<td class="src"><pre><code class="objc">            if case let .failure(error) = result {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1326</td>
<td class="src"><pre><code class="objc">                self.error = error.asAFError(or: .responseValidationFailed(reason: .customValidationFailed(error: error)))</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1327</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1328</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1329</td>
<td class="src"><pre><code class="objc">            self.eventMonitor?.request(self,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1330</td>
<td class="src"><pre><code class="objc">                                       didValidateRequest: self.request,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1331</td>
<td class="src"><pre><code class="objc">                                       response: response,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1332</td>
<td class="src"><pre><code class="objc">                                       withResult: result)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1333</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1334</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1335</td>
<td class="src"><pre><code class="objc">        $validators.write { $0.append(validator) }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1336</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1337</td>
<td class="src"><pre><code class="objc">        return self</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1338</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1339</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1340</td>
<td class="src"><pre><code class="objc">    /// Produces an `InputStream` that receives the `Data` received by the instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1341</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1342</td>
<td class="src"><pre><code class="objc">    /// - Note: The `InputStream` produced by this method must have `open()` called before being able to read `Data`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1343</td>
<td class="src"><pre><code class="objc">    ///         Additionally, this method will automatically call `resume()` on the instance, regardless of whether or</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1344</td>
<td class="src"><pre><code class="objc">    ///         not the creating session has `startRequestsImmediately` set to `true`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1345</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1346</td>
<td class="src"><pre><code class="objc">    /// - Parameter bufferSize: Size, in bytes, of the buffer between the `OutputStream` and `InputStream`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1347</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1348</td>
<td class="src"><pre><code class="objc">    /// - Returns:              The `InputStream` bound to the internal `OutboundStream`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1349</td>
<td class="src"><pre><code class="objc">    public func asInputStream(bufferSize: Int = 1024) -&gt; InputStream? {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1350</td>
<td class="src"><pre><code class="objc">        defer { resume() }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1351</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1352</td>
<td class="src"><pre><code class="objc">        var inputStream: InputStream?</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1353</td>
<td class="src"><pre><code class="objc">        $streamMutableState.write { state in</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1354</td>
<td class="src"><pre><code class="objc">            Foundation.Stream.getBoundStreams(withBufferSize: bufferSize,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1355</td>
<td class="src"><pre><code class="objc">                                              inputStream: &amp;inputStream,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1356</td>
<td class="src"><pre><code class="objc">                                              outputStream: &amp;state.outputStream)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1357</td>
<td class="src"><pre><code class="objc">            state.outputStream?.open()</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1358</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1359</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1360</td>
<td class="src"><pre><code class="objc">        return inputStream</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1361</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1362</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1363</td>
<td class="src"><pre><code class="objc">    func capturingError(from closure: () throws -&gt; Void) {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1364</td>
<td class="src"><pre><code class="objc">        do {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1365</td>
<td class="src"><pre><code class="objc">            try closure()</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1366</td>
<td class="src"><pre><code class="objc">        } catch {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1367</td>
<td class="src"><pre><code class="objc">            self.error = error.asAFError(or: .responseSerializationFailed(reason: .customSerializationFailed(error: error)))</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1368</td>
<td class="src"><pre><code class="objc">            cancel()</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1369</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1370</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1371</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1372</td>
<td class="src"><pre><code class="objc">    func appendStreamCompletion&lt;Success, Failure&gt;(on queue: DispatchQueue,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1373</td>
<td class="src"><pre><code class="objc">                                                  stream: @escaping Handler&lt;Success, Failure&gt;) {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1374</td>
<td class="src"><pre><code class="objc">        appendResponseSerializer {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1375</td>
<td class="src"><pre><code class="objc">            self.underlyingQueue.async {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1376</td>
<td class="src"><pre><code class="objc">                self.responseSerializerDidComplete {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1377</td>
<td class="src"><pre><code class="objc">                    self.$streamMutableState.write { state in</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1378</td>
<td class="src"><pre><code class="objc">                        guard state.numberOfExecutingStreams == 0 else {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1379</td>
<td class="src"><pre><code class="objc">                            state.enqueuedCompletionEvents.append {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1380</td>
<td class="src"><pre><code class="objc">                                self.enqueueCompletion(on: queue, stream: stream)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1381</td>
<td class="src"><pre><code class="objc">                            }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1382</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1383</td>
<td class="src"><pre><code class="objc">                            return</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1384</td>
<td class="src"><pre><code class="objc">                        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1385</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1386</td>
<td class="src"><pre><code class="objc">                        self.enqueueCompletion(on: queue, stream: stream)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1387</td>
<td class="src"><pre><code class="objc">                    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1388</td>
<td class="src"><pre><code class="objc">                }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1389</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1390</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1391</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1392</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1393</td>
<td class="src"><pre><code class="objc">    func enqueueCompletion&lt;Success, Failure&gt;(on queue: DispatchQueue,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1394</td>
<td class="src"><pre><code class="objc">                                             stream: @escaping Handler&lt;Success, Failure&gt;) {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1395</td>
<td class="src"><pre><code class="objc">        queue.async {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1396</td>
<td class="src"><pre><code class="objc">            do {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1397</td>
<td class="src"><pre><code class="objc">                let completion = Completion(request: self.request,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1398</td>
<td class="src"><pre><code class="objc">                                            response: self.response,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1399</td>
<td class="src"><pre><code class="objc">                                            metrics: self.metrics,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1400</td>
<td class="src"><pre><code class="objc">                                            error: self.error)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1401</td>
<td class="src"><pre><code class="objc">                try stream(.init(event: .complete(completion), token: .init(self)))</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1402</td>
<td class="src"><pre><code class="objc">            } catch {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1403</td>
<td class="src"><pre><code class="objc">                // Ignore error, as errors on Completion can't be handled anyway.</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1404</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1405</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1406</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1407</td>
<td class="src"><pre><code class="objc">}</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1408</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1409</td>
<td class="src"><pre><code class="objc">extension DataStreamRequest.Stream {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1410</td>
<td class="src"><pre><code class="objc">    /// Incoming `Result` values from `Event.stream`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1411</td>
<td class="src"><pre><code class="objc">    public var result: Result&lt;Success, Failure&gt;? {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1412</td>
<td class="src"><pre><code class="objc">        guard case let .stream(result) = event else { return nil }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1413</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1414</td>
<td class="src"><pre><code class="objc">        return result</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1415</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1416</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1417</td>
<td class="src"><pre><code class="objc">    /// `Success` value of the instance, if any.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1418</td>
<td class="src"><pre><code class="objc">    public var value: Success? {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1419</td>
<td class="src"><pre><code class="objc">        guard case let .success(value) = result else { return nil }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1420</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1421</td>
<td class="src"><pre><code class="objc">        return value</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1422</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1423</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1424</td>
<td class="src"><pre><code class="objc">    /// `Failure` value of the instance, if any.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1425</td>
<td class="src"><pre><code class="objc">    public var error: Failure? {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1426</td>
<td class="src"><pre><code class="objc">        guard case let .failure(error) = result else { return nil }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1427</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1428</td>
<td class="src"><pre><code class="objc">        return error</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1429</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1430</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1431</td>
<td class="src"><pre><code class="objc">    /// `Completion` value of the instance, if any.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1432</td>
<td class="src"><pre><code class="objc">    public var completion: DataStreamRequest.Completion? {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1433</td>
<td class="src"><pre><code class="objc">        guard case let .complete(completion) = event else { return nil }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1434</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1435</td>
<td class="src"><pre><code class="objc">        return completion</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1436</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1437</td>
<td class="src"><pre><code class="objc">}</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1438</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1439</td>
<td class="src"><pre><code class="objc">// MARK: - DownloadRequest</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1440</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1441</td>
<td class="src"><pre><code class="objc">/// `Request` subclass which downloads `Data` to a file on disk using `URLSessionDownloadTask`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1442</td>
<td class="src"><pre><code class="objc">public class DownloadRequest: Request {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1443</td>
<td class="src"><pre><code class="objc">    /// A set of options to be executed prior to moving a downloaded file from the temporary `URL` to the destination</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1444</td>
<td class="src"><pre><code class="objc">    /// `URL`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1445</td>
<td class="src"><pre><code class="objc">    public struct Options: OptionSet {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1446</td>
<td class="src"><pre><code class="objc">        /// Specifies that intermediate directories for the destination URL should be created.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1447</td>
<td class="src"><pre><code class="objc">        public static let createIntermediateDirectories = Options(rawValue: 1 &lt;&lt; 0)</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1448</td>
<td class="src"><pre><code class="objc">        /// Specifies that any previous file at the destination `URL` should be removed.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1449</td>
<td class="src"><pre><code class="objc">        public static let removePreviousFile = Options(rawValue: 1 &lt;&lt; 1)</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1450</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1451</td>
<td class="src"><pre><code class="objc">        public let rawValue: Int</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1452</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1453</td>
<td class="src"><pre><code class="objc">        public init(rawValue: Int) {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1454</td>
<td class="src"><pre><code class="objc">            self.rawValue = rawValue</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1455</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1456</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1457</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1458</td>
<td class="src"><pre><code class="objc">    // MARK: Destination</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1459</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1460</td>
<td class="src"><pre><code class="objc">    /// A closure executed once a `DownloadRequest` has successfully completed in order to determine where to move the</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1461</td>
<td class="src"><pre><code class="objc">    /// temporary file written to during the download process. The closure takes two arguments: the temporary file URL</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1462</td>
<td class="src"><pre><code class="objc">    /// and the `HTTPURLResponse`, and returns two values: the file URL where the temporary file should be moved and</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1463</td>
<td class="src"><pre><code class="objc">    /// the options defining how the file should be moved.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1464</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1465</td>
<td class="src"><pre><code class="objc">    /// - Note: Downloads from a local `file://` `URL`s do not use the `Destination` closure, as those downloads do not</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1466</td>
<td class="src"><pre><code class="objc">    ///         return an `HTTPURLResponse`. Instead the file is merely moved within the temporary directory.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1467</td>
<td class="src"><pre><code class="objc">    public typealias Destination = (_ temporaryURL: URL,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1468</td>
<td class="src"><pre><code class="objc">                                    _ response: HTTPURLResponse) -&gt; (destinationURL: URL, options: Options)</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1469</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1470</td>
<td class="src"><pre><code class="objc">    /// Creates a download file destination closure which uses the default file manager to move the temporary file to a</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1471</td>
<td class="src"><pre><code class="objc">    /// file URL in the first available directory with the specified search path directory and search path domain mask.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1472</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1473</td>
<td class="src"><pre><code class="objc">    /// - Parameters:</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1474</td>
<td class="src"><pre><code class="objc">    ///   - directory: The search path directory. `.documentDirectory` by default.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1475</td>
<td class="src"><pre><code class="objc">    ///   - domain:    The search path domain mask. `.userDomainMask` by default.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1476</td>
<td class="src"><pre><code class="objc">    ///   - options:   `DownloadRequest.Options` used when moving the downloaded file to its destination. None by</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1477</td>
<td class="src"><pre><code class="objc">    ///                default.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1478</td>
<td class="src"><pre><code class="objc">    /// - Returns: The `Destination` closure.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1479</td>
<td class="src"><pre><code class="objc">    public class func suggestedDownloadDestination(for directory: FileManager.SearchPathDirectory = .documentDirectory,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1480</td>
<td class="src"><pre><code class="objc">                                                   in domain: FileManager.SearchPathDomainMask = .userDomainMask,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1481</td>
<td class="src"><pre><code class="objc">                                                   options: Options = []) -&gt; Destination {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1482</td>
<td class="src"><pre><code class="objc">        { temporaryURL, response in</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1483</td>
<td class="src"><pre><code class="objc">            let directoryURLs = FileManager.default.urls(for: directory, in: domain)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1484</td>
<td class="src"><pre><code class="objc">            let url = directoryURLs.first?.appendingPathComponent(response.suggestedFilename!) ?? temporaryURL</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1485</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1486</td>
<td class="src"><pre><code class="objc">            return (url, options)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1487</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1488</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1489</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1490</td>
<td class="src"><pre><code class="objc">    /// Default `Destination` used by Alamofire to ensure all downloads persist. This `Destination` prepends</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1491</td>
<td class="src"><pre><code class="objc">    /// `Alamofire_` to the automatically generated download name and moves it within the temporary directory. Files</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1492</td>
<td class="src"><pre><code class="objc">    /// with this destination must be additionally moved if they should survive the system reclamation of temporary</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1493</td>
<td class="src"><pre><code class="objc">    /// space.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1494</td>
<td class="src"><pre><code class="objc">    static let defaultDestination: Destination = { url, _ in</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1495</td>
<td class="src"><pre><code class="objc">        (defaultDestinationURL(url), [])</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1496</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1497</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1498</td>
<td class="src"><pre><code class="objc">    /// Default `URL` creation closure. Creates a `URL` in the temporary directory with `Alamofire_` prepended to the</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1499</td>
<td class="src"><pre><code class="objc">    /// provided file name.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1500</td>
<td class="src"><pre><code class="objc">    static let defaultDestinationURL: (URL) -&gt; URL = { url in</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1501</td>
<td class="src"><pre><code class="objc">        let filename = "Alamofire_\(url.lastPathComponent)"</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1502</td>
<td class="src"><pre><code class="objc">        let destination = url.deletingLastPathComponent().appendingPathComponent(filename)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1503</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1504</td>
<td class="src"><pre><code class="objc">        return destination</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1505</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1506</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1507</td>
<td class="src"><pre><code class="objc">    // MARK: Downloadable</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1508</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1509</td>
<td class="src"><pre><code class="objc">    /// Type describing the source used to create the underlying `URLSessionDownloadTask`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1510</td>
<td class="src"><pre><code class="objc">    public enum Downloadable {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1511</td>
<td class="src"><pre><code class="objc">        /// Download should be started from the `URLRequest` produced by the associated `URLRequestConvertible` value.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1512</td>
<td class="src"><pre><code class="objc">        case request(URLRequestConvertible)</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1513</td>
<td class="src"><pre><code class="objc">        /// Download should be started from the associated resume `Data` value.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1514</td>
<td class="src"><pre><code class="objc">        case resumeData(Data)</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1515</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1516</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1517</td>
<td class="src"><pre><code class="objc">    // MARK: Mutable State</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1518</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1519</td>
<td class="src"><pre><code class="objc">    /// Type containing all mutable state for `DownloadRequest` instances.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1520</td>
<td class="src"><pre><code class="objc">    private struct DownloadRequestMutableState {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1521</td>
<td class="src"><pre><code class="objc">        /// Possible resume `Data` produced when cancelling the instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1522</td>
<td class="src"><pre><code class="objc">        var resumeData: Data?</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1523</td>
<td class="src"><pre><code class="objc">        /// `URL` to which `Data` is being downloaded.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1524</td>
<td class="src"><pre><code class="objc">        var fileURL: URL?</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1525</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1526</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1527</td>
<td class="src"><pre><code class="objc">    /// Protected mutable state specific to `DownloadRequest`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1528</td>
<td class="src"><pre><code class="objc">    @Protected</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1529</td>
<td class="src"><pre><code class="objc">    private var mutableDownloadState = DownloadRequestMutableState()</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1530</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1531</td>
<td class="src"><pre><code class="objc">    /// If the download is resumable and is eventually cancelled or fails, this value may be used to resume the download</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1532</td>
<td class="src"><pre><code class="objc">    /// using the `download(resumingWith data:)` API.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1533</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1534</td>
<td class="src"><pre><code class="objc">    /// - Note: For more information about `resumeData`, see [Apple's documentation](https://developer.apple.com/documentation/foundation/urlsessiondownloadtask/1411634-cancel).</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1535</td>
<td class="src"><pre><code class="objc">    public var resumeData: Data? { mutableDownloadState.resumeData ?? error?.downloadResumeData }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1536</td>
<td class="src"><pre><code class="objc">    /// If the download is successful, the `URL` where the file was downloaded.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1537</td>
<td class="src"><pre><code class="objc">    public var fileURL: URL? { mutableDownloadState.fileURL }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1538</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1539</td>
<td class="src"><pre><code class="objc">    // MARK: Initial State</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1540</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1541</td>
<td class="src"><pre><code class="objc">    /// `Downloadable` value used for this instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1542</td>
<td class="src"><pre><code class="objc">    public let downloadable: Downloadable</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1543</td>
<td class="src"><pre><code class="objc">    /// The `Destination` to which the downloaded file is moved.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1544</td>
<td class="src"><pre><code class="objc">    let destination: Destination</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1545</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1546</td>
<td class="src"><pre><code class="objc">    /// Creates a `DownloadRequest` using the provided parameters.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1547</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1548</td>
<td class="src"><pre><code class="objc">    /// - Parameters:</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1549</td>
<td class="src"><pre><code class="objc">    ///   - id:                 `UUID` used for the `Hashable` and `Equatable` implementations. `UUID()` by default.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1550</td>
<td class="src"><pre><code class="objc">    ///   - downloadable:       `Downloadable` value used to create `URLSessionDownloadTasks` for the instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1551</td>
<td class="src"><pre><code class="objc">    ///   - underlyingQueue:    `DispatchQueue` on which all internal `Request` work is performed.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1552</td>
<td class="src"><pre><code class="objc">    ///   - serializationQueue: `DispatchQueue` on which all serialization work is performed. By default targets</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1553</td>
<td class="src"><pre><code class="objc">    ///                         `underlyingQueue`, but can be passed another queue from a `Session`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1554</td>
<td class="src"><pre><code class="objc">    ///   - eventMonitor:       `EventMonitor` called for event callbacks from internal `Request` actions.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1555</td>
<td class="src"><pre><code class="objc">    ///   - interceptor:        `RequestInterceptor` used throughout the request lifecycle.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1556</td>
<td class="src"><pre><code class="objc">    ///   - delegate:           `RequestDelegate` that provides an interface to actions not performed by the `Request`</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1557</td>
<td class="src"><pre><code class="objc">    ///   - destination:        `Destination` closure used to move the downloaded file to its final location.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1558</td>
<td class="src"><pre><code class="objc">    init(id: UUID = UUID(),</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1559</td>
<td class="src"><pre><code class="objc">         downloadable: Downloadable,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1560</td>
<td class="src"><pre><code class="objc">         underlyingQueue: DispatchQueue,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1561</td>
<td class="src"><pre><code class="objc">         serializationQueue: DispatchQueue,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1562</td>
<td class="src"><pre><code class="objc">         eventMonitor: EventMonitor?,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1563</td>
<td class="src"><pre><code class="objc">         interceptor: RequestInterceptor?,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1564</td>
<td class="src"><pre><code class="objc">         delegate: RequestDelegate,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1565</td>
<td class="src"><pre><code class="objc">         destination: @escaping Destination) {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1566</td>
<td class="src"><pre><code class="objc">        self.downloadable = downloadable</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1567</td>
<td class="src"><pre><code class="objc">        self.destination = destination</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1568</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1569</td>
<td class="src"><pre><code class="objc">        super.init(id: id,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1570</td>
<td class="src"><pre><code class="objc">                   underlyingQueue: underlyingQueue,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1571</td>
<td class="src"><pre><code class="objc">                   serializationQueue: serializationQueue,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1572</td>
<td class="src"><pre><code class="objc">                   eventMonitor: eventMonitor,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1573</td>
<td class="src"><pre><code class="objc">                   interceptor: interceptor,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1574</td>
<td class="src"><pre><code class="objc">                   delegate: delegate)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1575</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1576</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1577</td>
<td class="src"><pre><code class="objc">    override func reset() {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1578</td>
<td class="src"><pre><code class="objc">        super.reset()</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1579</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1580</td>
<td class="src"><pre><code class="objc">        $mutableDownloadState.write {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1581</td>
<td class="src"><pre><code class="objc">            $0.resumeData = nil</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1582</td>
<td class="src"><pre><code class="objc">            $0.fileURL = nil</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1583</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1584</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1585</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1586</td>
<td class="src"><pre><code class="objc">    /// Called when a download has finished.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1587</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1588</td>
<td class="src"><pre><code class="objc">    /// - Parameters:</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1589</td>
<td class="src"><pre><code class="objc">    ///   - task:   `URLSessionTask` that finished the download.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1590</td>
<td class="src"><pre><code class="objc">    ///   - result: `Result` of the automatic move to `destination`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1591</td>
<td class="src"><pre><code class="objc">    func didFinishDownloading(using task: URLSessionTask, with result: Result&lt;URL, AFError&gt;) {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1592</td>
<td class="src"><pre><code class="objc">        eventMonitor?.request(self, didFinishDownloadingUsing: task, with: result)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1593</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1594</td>
<td class="src"><pre><code class="objc">        switch result {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1595</td>
<td class="src"><pre><code class="objc">        case let .success(url): mutableDownloadState.fileURL = url</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1596</td>
<td class="src"><pre><code class="objc">        case let .failure(error): self.error = error</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1597</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1598</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1599</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1600</td>
<td class="src"><pre><code class="objc">    /// Updates the `downloadProgress` using the provided values.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1601</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1602</td>
<td class="src"><pre><code class="objc">    /// - Parameters:</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1603</td>
<td class="src"><pre><code class="objc">    ///   - bytesWritten:              Total bytes written so far.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1604</td>
<td class="src"><pre><code class="objc">    ///   - totalBytesExpectedToWrite: Total bytes expected to write.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1605</td>
<td class="src"><pre><code class="objc">    func updateDownloadProgress(bytesWritten: Int64, totalBytesExpectedToWrite: Int64) {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1606</td>
<td class="src"><pre><code class="objc">        downloadProgress.totalUnitCount = totalBytesExpectedToWrite</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1607</td>
<td class="src"><pre><code class="objc">        downloadProgress.completedUnitCount += bytesWritten</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1608</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1609</td>
<td class="src"><pre><code class="objc">        downloadProgressHandler?.queue.async { self.downloadProgressHandler?.handler(self.downloadProgress) }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1610</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1611</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1612</td>
<td class="src"><pre><code class="objc">    override func task(for request: URLRequest, using session: URLSession) -&gt; URLSessionTask {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1613</td>
<td class="src"><pre><code class="objc">        session.downloadTask(with: request)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1614</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1615</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1616</td>
<td class="src"><pre><code class="objc">    /// Creates a `URLSessionTask` from the provided resume data.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1617</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1618</td>
<td class="src"><pre><code class="objc">    /// - Parameters:</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1619</td>
<td class="src"><pre><code class="objc">    ///   - data:    `Data` used to resume the download.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1620</td>
<td class="src"><pre><code class="objc">    ///   - session: `URLSession` used to create the `URLSessionTask`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1621</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1622</td>
<td class="src"><pre><code class="objc">    /// - Returns:   The `URLSessionTask` created.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1623</td>
<td class="src"><pre><code class="objc">    public func task(forResumeData data: Data, using session: URLSession) -&gt; URLSessionTask {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1624</td>
<td class="src"><pre><code class="objc">        session.downloadTask(withResumeData: data)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1625</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1626</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1627</td>
<td class="src"><pre><code class="objc">    /// Cancels the instance. Once cancelled, a `DownloadRequest` can no longer be resumed or suspended.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1628</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1629</td>
<td class="src"><pre><code class="objc">    /// - Note: This method will NOT produce resume data. If you wish to cancel and produce resume data, use</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1630</td>
<td class="src"><pre><code class="objc">    ///         `cancel(producingResumeData:)` or `cancel(byProducingResumeData:)`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1631</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1632</td>
<td class="src"><pre><code class="objc">    /// - Returns: The instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1633</td>
<td class="src"><pre><code class="objc">    @discardableResult</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1634</td>
<td class="src"><pre><code class="objc">    override public func cancel() -&gt; Self {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1635</td>
<td class="src"><pre><code class="objc">        cancel(producingResumeData: false)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1636</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1637</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1638</td>
<td class="src"><pre><code class="objc">    /// Cancels the instance, optionally producing resume data. Once cancelled, a `DownloadRequest` can no longer be</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1639</td>
<td class="src"><pre><code class="objc">    /// resumed or suspended.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1640</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1641</td>
<td class="src"><pre><code class="objc">    /// - Note: If `producingResumeData` is `true`, the `resumeData` property will be populated with any resume data, if</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1642</td>
<td class="src"><pre><code class="objc">    ///         available.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1643</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1644</td>
<td class="src"><pre><code class="objc">    /// - Returns: The instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1645</td>
<td class="src"><pre><code class="objc">    @discardableResult</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1646</td>
<td class="src"><pre><code class="objc">    public func cancel(producingResumeData shouldProduceResumeData: Bool) -&gt; Self {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1647</td>
<td class="src"><pre><code class="objc">        cancel(optionallyProducingResumeData: shouldProduceResumeData ? { _ in } : nil)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1648</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1649</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1650</td>
<td class="src"><pre><code class="objc">    /// Cancels the instance while producing resume data. Once cancelled, a `DownloadRequest` can no longer be resumed</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1651</td>
<td class="src"><pre><code class="objc">    /// or suspended.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1652</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1653</td>
<td class="src"><pre><code class="objc">    /// - Note: The resume data passed to the completion handler will also be available on the instance's `resumeData`</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1654</td>
<td class="src"><pre><code class="objc">    ///         property.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1655</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1656</td>
<td class="src"><pre><code class="objc">    /// - Parameter completionHandler: The completion handler that is called when the download has been successfully</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1657</td>
<td class="src"><pre><code class="objc">    ///                                cancelled. It is not guaranteed to be called on a particular queue, so you may</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1658</td>
<td class="src"><pre><code class="objc">    ///                                want use an appropriate queue to perform your work.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1659</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1660</td>
<td class="src"><pre><code class="objc">    /// - Returns:                     The instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1661</td>
<td class="src"><pre><code class="objc">    @discardableResult</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1662</td>
<td class="src"><pre><code class="objc">    public func cancel(byProducingResumeData completionHandler: @escaping (_ data: Data?) -&gt; Void) -&gt; Self {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1663</td>
<td class="src"><pre><code class="objc">        cancel(optionallyProducingResumeData: completionHandler)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1664</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1665</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1666</td>
<td class="src"><pre><code class="objc">    /// Internal implementation of cancellation that optionally takes a resume data handler. If no handler is passed,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1667</td>
<td class="src"><pre><code class="objc">    /// cancellation is performed without producing resume data.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1668</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1669</td>
<td class="src"><pre><code class="objc">    /// - Parameter completionHandler: Optional resume data handler.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1670</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1671</td>
<td class="src"><pre><code class="objc">    /// - Returns:                     The instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1672</td>
<td class="src"><pre><code class="objc">    private func cancel(optionallyProducingResumeData completionHandler: ((_ resumeData: Data?) -&gt; Void)?) -&gt; Self {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1673</td>
<td class="src"><pre><code class="objc">        $mutableState.write { mutableState in</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1674</td>
<td class="src"><pre><code class="objc">            guard mutableState.state.canTransitionTo(.cancelled) else { return }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1675</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1676</td>
<td class="src"><pre><code class="objc">            mutableState.state = .cancelled</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1677</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1678</td>
<td class="src"><pre><code class="objc">            underlyingQueue.async { self.didCancel() }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1679</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1680</td>
<td class="src"><pre><code class="objc">            guard let task = mutableState.tasks.last as? URLSessionDownloadTask, task.state != .completed else {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1681</td>
<td class="src"><pre><code class="objc">                underlyingQueue.async { self.finish() }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1682</td>
<td class="src"><pre><code class="objc">                return</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1683</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1684</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1685</td>
<td class="src"><pre><code class="objc">            if let completionHandler = completionHandler {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1686</td>
<td class="src"><pre><code class="objc">                // Resume to ensure metrics are gathered.</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1687</td>
<td class="src"><pre><code class="objc">                task.resume()</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1688</td>
<td class="src"><pre><code class="objc">                task.cancel { resumeData in</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1689</td>
<td class="src"><pre><code class="objc">                    self.mutableDownloadState.resumeData = resumeData</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1690</td>
<td class="src"><pre><code class="objc">                    self.underlyingQueue.async { self.didCancelTask(task) }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1691</td>
<td class="src"><pre><code class="objc">                    completionHandler(resumeData)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1692</td>
<td class="src"><pre><code class="objc">                }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1693</td>
<td class="src"><pre><code class="objc">            } else {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1694</td>
<td class="src"><pre><code class="objc">                // Resume to ensure metrics are gathered.</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1695</td>
<td class="src"><pre><code class="objc">                task.resume()</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1696</td>
<td class="src"><pre><code class="objc">                task.cancel(byProducingResumeData: { _ in })</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1697</td>
<td class="src"><pre><code class="objc">                self.underlyingQueue.async { self.didCancelTask(task) }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1698</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1699</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1700</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1701</td>
<td class="src"><pre><code class="objc">        return self</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1702</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1703</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1704</td>
<td class="src"><pre><code class="objc">    /// Validates the request, using the specified closure.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1705</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1706</td>
<td class="src"><pre><code class="objc">    /// - Note: If validation fails, subsequent calls to response handlers will have an associated error.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1707</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1708</td>
<td class="src"><pre><code class="objc">    /// - Parameter validation: `Validation` closure to validate the response.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1709</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1710</td>
<td class="src"><pre><code class="objc">    /// - Returns:              The instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1711</td>
<td class="src"><pre><code class="objc">    @discardableResult</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1712</td>
<td class="src"><pre><code class="objc">    public func validate(_ validation: @escaping Validation) -&gt; Self {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1713</td>
<td class="src"><pre><code class="objc">        let validator: () -&gt; Void = { [unowned self] in</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1714</td>
<td class="src"><pre><code class="objc">            guard self.error == nil, let response = self.response else { return }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1715</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1716</td>
<td class="src"><pre><code class="objc">            let result = validation(self.request, response, self.fileURL)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1717</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1718</td>
<td class="src"><pre><code class="objc">            if case let .failure(error) = result {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1719</td>
<td class="src"><pre><code class="objc">                self.error = error.asAFError(or: .responseValidationFailed(reason: .customValidationFailed(error: error)))</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1720</td>
<td class="src"><pre><code class="objc">            }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1721</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1722</td>
<td class="src"><pre><code class="objc">            self.eventMonitor?.request(self,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1723</td>
<td class="src"><pre><code class="objc">                                       didValidateRequest: self.request,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1724</td>
<td class="src"><pre><code class="objc">                                       response: response,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1725</td>
<td class="src"><pre><code class="objc">                                       fileURL: self.fileURL,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1726</td>
<td class="src"><pre><code class="objc">                                       withResult: result)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1727</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1728</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1729</td>
<td class="src"><pre><code class="objc">        $validators.write { $0.append(validator) }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1730</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1731</td>
<td class="src"><pre><code class="objc">        return self</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1732</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1733</td>
<td class="src"><pre><code class="objc">}</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1734</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1735</td>
<td class="src"><pre><code class="objc">// MARK: - UploadRequest</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1736</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1737</td>
<td class="src"><pre><code class="objc">/// `DataRequest` subclass which handles `Data` upload from memory, file, or stream using `URLSessionUploadTask`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1738</td>
<td class="src"><pre><code class="objc">public class UploadRequest: DataRequest {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1739</td>
<td class="src"><pre><code class="objc">    /// Type describing the origin of the upload, whether `Data`, file, or stream.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1740</td>
<td class="src"><pre><code class="objc">    public enum Uploadable {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1741</td>
<td class="src"><pre><code class="objc">        /// Upload from the provided `Data` value.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1742</td>
<td class="src"><pre><code class="objc">        case data(Data)</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1743</td>
<td class="src"><pre><code class="objc">        /// Upload from the provided file `URL`, as well as a `Bool` determining whether the source file should be</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1744</td>
<td class="src"><pre><code class="objc">        /// automatically removed once uploaded.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1745</td>
<td class="src"><pre><code class="objc">        case file(URL, shouldRemove: Bool)</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1746</td>
<td class="src"><pre><code class="objc">        /// Upload from the provided `InputStream`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1747</td>
<td class="src"><pre><code class="objc">        case stream(InputStream)</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1748</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1749</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1750</td>
<td class="src"><pre><code class="objc">    // MARK: Initial State</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1751</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1752</td>
<td class="src"><pre><code class="objc">    /// The `UploadableConvertible` value used to produce the `Uploadable` value for this instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1753</td>
<td class="src"><pre><code class="objc">    public let upload: UploadableConvertible</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1754</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1755</td>
<td class="src"><pre><code class="objc">    /// `FileManager` used to perform cleanup tasks, including the removal of multipart form encoded payloads written</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1756</td>
<td class="src"><pre><code class="objc">    /// to disk.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1757</td>
<td class="src"><pre><code class="objc">    public let fileManager: FileManager</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1758</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1759</td>
<td class="src"><pre><code class="objc">    // MARK: Mutable State</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1760</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1761</td>
<td class="src"><pre><code class="objc">    /// `Uploadable` value used by the instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1762</td>
<td class="src"><pre><code class="objc">    public var uploadable: Uploadable?</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1763</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1764</td>
<td class="src"><pre><code class="objc">    /// Creates an `UploadRequest` using the provided parameters.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1765</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1766</td>
<td class="src"><pre><code class="objc">    /// - Parameters:</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1767</td>
<td class="src"><pre><code class="objc">    ///   - id:                 `UUID` used for the `Hashable` and `Equatable` implementations. `UUID()` by default.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1768</td>
<td class="src"><pre><code class="objc">    ///   - convertible:        `UploadConvertible` value used to determine the type of upload to be performed.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1769</td>
<td class="src"><pre><code class="objc">    ///   - underlyingQueue:    `DispatchQueue` on which all internal `Request` work is performed.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1770</td>
<td class="src"><pre><code class="objc">    ///   - serializationQueue: `DispatchQueue` on which all serialization work is performed. By default targets</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1771</td>
<td class="src"><pre><code class="objc">    ///                         `underlyingQueue`, but can be passed another queue from a `Session`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1772</td>
<td class="src"><pre><code class="objc">    ///   - eventMonitor:       `EventMonitor` called for event callbacks from internal `Request` actions.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1773</td>
<td class="src"><pre><code class="objc">    ///   - interceptor:        `RequestInterceptor` used throughout the request lifecycle.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1774</td>
<td class="src"><pre><code class="objc">    ///   - delegate:           `RequestDelegate` that provides an interface to actions not performed by the `Request`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1775</td>
<td class="src"><pre><code class="objc">    init(id: UUID = UUID(),</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1776</td>
<td class="src"><pre><code class="objc">         convertible: UploadConvertible,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1777</td>
<td class="src"><pre><code class="objc">         underlyingQueue: DispatchQueue,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1778</td>
<td class="src"><pre><code class="objc">         serializationQueue: DispatchQueue,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1779</td>
<td class="src"><pre><code class="objc">         eventMonitor: EventMonitor?,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1780</td>
<td class="src"><pre><code class="objc">         interceptor: RequestInterceptor?,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1781</td>
<td class="src"><pre><code class="objc">         fileManager: FileManager,</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1782</td>
<td class="src"><pre><code class="objc">         delegate: RequestDelegate) {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1783</td>
<td class="src"><pre><code class="objc">        upload = convertible</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1784</td>
<td class="src"><pre><code class="objc">        self.fileManager = fileManager</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1785</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1786</td>
<td class="src"><pre><code class="objc">        super.init(id: id,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1787</td>
<td class="src"><pre><code class="objc">                   convertible: convertible,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1788</td>
<td class="src"><pre><code class="objc">                   underlyingQueue: underlyingQueue,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1789</td>
<td class="src"><pre><code class="objc">                   serializationQueue: serializationQueue,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1790</td>
<td class="src"><pre><code class="objc">                   eventMonitor: eventMonitor,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1791</td>
<td class="src"><pre><code class="objc">                   interceptor: interceptor,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1792</td>
<td class="src"><pre><code class="objc">                   delegate: delegate)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1793</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1794</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1795</td>
<td class="src"><pre><code class="objc">    /// Called when the `Uploadable` value has been created from the `UploadConvertible`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1796</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1797</td>
<td class="src"><pre><code class="objc">    /// - Parameter uploadable: The `Uploadable` that was created.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1798</td>
<td class="src"><pre><code class="objc">    func didCreateUploadable(_ uploadable: Uploadable) {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1799</td>
<td class="src"><pre><code class="objc">        self.uploadable = uploadable</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1800</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1801</td>
<td class="src"><pre><code class="objc">        eventMonitor?.request(self, didCreateUploadable: uploadable)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1802</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1803</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1804</td>
<td class="src"><pre><code class="objc">    /// Called when the `Uploadable` value could not be created.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1805</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1806</td>
<td class="src"><pre><code class="objc">    /// - Parameter error: `AFError` produced by the failure.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1807</td>
<td class="src"><pre><code class="objc">    func didFailToCreateUploadable(with error: AFError) {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1808</td>
<td class="src"><pre><code class="objc">        self.error = error</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1809</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1810</td>
<td class="src"><pre><code class="objc">        eventMonitor?.request(self, didFailToCreateUploadableWithError: error)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1811</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1812</td>
<td class="src"><pre><code class="objc">        retryOrFinish(error: error)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1813</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1814</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1815</td>
<td class="src"><pre><code class="objc">    override func task(for request: URLRequest, using session: URLSession) -&gt; URLSessionTask {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1816</td>
<td class="src"><pre><code class="objc">        guard let uploadable = uploadable else {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1817</td>
<td class="src"><pre><code class="objc">            fatalError("Attempting to create a URLSessionUploadTask when Uploadable value doesn't exist.")</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1818</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1819</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1820</td>
<td class="src"><pre><code class="objc">        switch uploadable {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1821</td>
<td class="src"><pre><code class="objc">        case let .data(data): return session.uploadTask(with: request, from: data)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1822</td>
<td class="src"><pre><code class="objc">        case let .file(url, _): return session.uploadTask(with: request, fromFile: url)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1823</td>
<td class="src"><pre><code class="objc">        case .stream: return session.uploadTask(withStreamedRequest: request)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1824</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1825</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1826</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1827</td>
<td class="src"><pre><code class="objc">    override func reset() {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1828</td>
<td class="src"><pre><code class="objc">        // Uploadable must be recreated on every retry.</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1829</td>
<td class="src"><pre><code class="objc">        uploadable = nil</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1830</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1831</td>
<td class="src"><pre><code class="objc">        super.reset()</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1832</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1833</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1834</td>
<td class="src"><pre><code class="objc">    /// Produces the `InputStream` from `uploadable`, if it can.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1835</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1836</td>
<td class="src"><pre><code class="objc">    /// - Note: Calling this method with a non-`.stream` `Uploadable` is a logic error and will crash.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1837</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1838</td>
<td class="src"><pre><code class="objc">    /// - Returns: The `InputStream`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1839</td>
<td class="src"><pre><code class="objc">    func inputStream() -&gt; InputStream {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1840</td>
<td class="src"><pre><code class="objc">        guard let uploadable = uploadable else {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1841</td>
<td class="src"><pre><code class="objc">            fatalError("Attempting to access the input stream but the uploadable doesn't exist.")</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1842</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1843</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1844</td>
<td class="src"><pre><code class="objc">        guard case let .stream(stream) = uploadable else {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1845</td>
<td class="src"><pre><code class="objc">            fatalError("Attempted to access the stream of an UploadRequest that wasn't created with one.")</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1846</td>
<td class="src"><pre><code class="objc">        }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1847</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1848</td>
<td class="src"><pre><code class="objc">        eventMonitor?.request(self, didProvideInputStream: stream)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1849</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1850</td>
<td class="src"><pre><code class="objc">        return stream</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1851</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1852</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1853</td>
<td class="src"><pre><code class="objc">    override public func cleanup() {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1854</td>
<td class="src"><pre><code class="objc">        defer { super.cleanup() }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1855</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1856</td>
<td class="src"><pre><code class="objc">        guard</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1857</td>
<td class="src"><pre><code class="objc">            let uploadable = self.uploadable,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1858</td>
<td class="src"><pre><code class="objc">            case let .file(url, shouldRemove) = uploadable,</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1859</td>
<td class="src"><pre><code class="objc">            shouldRemove</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1860</td>
<td class="src"><pre><code class="objc">        else { return }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1861</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1862</td>
<td class="src"><pre><code class="objc">        try? fileManager.removeItem(at: url)</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1863</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1864</td>
<td class="src"><pre><code class="objc">}</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1865</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1866</td>
<td class="src"><pre><code class="objc">/// A type that can produce an `UploadRequest.Uploadable` value.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1867</td>
<td class="src"><pre><code class="objc">public protocol UploadableConvertible {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1868</td>
<td class="src"><pre><code class="objc">    /// Produces an `UploadRequest.Uploadable` value from the instance.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1869</td>
<td class="src"><pre><code class="objc">    ///</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1870</td>
<td class="src"><pre><code class="objc">    /// - Returns: The `UploadRequest.Uploadable`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1871</td>
<td class="src"><pre><code class="objc">    /// - Throws:  Any `Error` produced during creation.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1872</td>
<td class="src"><pre><code class="objc">    func createUploadable() throws -&gt; UploadRequest.Uploadable</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1873</td>
<td class="src"><pre><code class="objc">}</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1874</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1875</td>
<td class="src"><pre><code class="objc">extension UploadRequest.Uploadable: UploadableConvertible {</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="missed">
<td class="num">1876</td>
<td class="src"><pre><code class="objc">    public func createUploadable() throws -&gt; UploadRequest.Uploadable {</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1877</td>
<td class="src"><pre><code class="objc">        self</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="missed">
<td class="num">1878</td>
<td class="src"><pre><code class="objc">    }</code></pre></td>
<td class="coverage">!</td>
</tr>
<tr class="never">
<td class="num">1879</td>
<td class="src"><pre><code class="objc">}</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1880</td>
<td class="src"><pre><code class="objc"></code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1881</td>
<td class="src"><pre><code class="objc">/// A type that can be converted to an upload, whether from an `UploadRequest.Uploadable` or `URLRequestConvertible`.</code></pre></td>
<td class="coverage"></td>
</tr>
<tr class="never">
<td class="num">1882</td>
<td class="src"><pre><code class="objc">public protocol UploadConvertible: UploadableConvertible &amp; URLRequestConvertible {}</code></pre></td>
<td class="coverage"></td>
</tr>
</table>
</div></div>
<footer><div class="row">
<p><a href="https://github.com/SlatherOrg/slather">Fork me on Github</a></p>
<p>&copy; 2021 Slather</p>
</div></footer><script src="highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script>
</body>
</html>
